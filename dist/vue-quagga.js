!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){var n;n=function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=166)}([function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";function n(e,t){return this._row=[],this.config=e||{},this.supplements=t,this}var o=r(3);n.prototype._nextUnset=function(e,t){var r;for(void 0===t&&(t=0),r=t;r<e.length;r++)if(!e[r])return r;return e.length},n.prototype._matchPattern=function(e,t,r){var n,o,i,a,s=0,c=0,u=0,d=0;for(r=r||this.SINGLE_CODE_ERROR||1,n=0;n<e.length;n++)u+=e[n],d+=t[n];if(u<d)return Number.MAX_VALUE;for(r*=o=u/d,n=0;n<e.length;n++){if(i=e[n],a=t[n]*o,(c=Math.abs(i-a)/a)>r)return Number.MAX_VALUE;s+=c}return s/d},n.prototype._nextSet=function(e,t){var r;for(r=t=t||0;r<e.length;r++)if(e[r])return r;return e.length},n.prototype._correctBars=function(e,t,r){for(var n=r.length,o=0;n--;)(o=e[r[n]]*(1-(1-t)/2))>1&&(e[r[n]]=o)},n.prototype._matchTrace=function(e,t){var r,n=[],o=this,i=o._nextSet(o._row),a=!o._row[i],s=0,c={error:Number.MAX_VALUE,code:-1,start:0};if(e){for(r=0;r<e.length;r++)n.push(0);for(r=i;r<o._row.length;r++)if(o._row[r]^a)n[s]++;else{if(s===n.length-1)return o._matchPattern(n,e)<t?(c.start=r-i,c.end=r,c.counter=n,c):null;n[++s]=1,a=!a}}else for(n.push(0),r=i;r<o._row.length;r++)o._row[r]^a?n[s]++:(s++,n.push(0),n[s]=1,a=!a);return c.start=i,c.end=o._row.length-1,c.counter=n,c},n.prototype.decodePattern=function(e){var t,r=this;return r._row=e,null===(t=r._decode())?(r._row.reverse(),(t=r._decode())&&(t.direction=n.DIRECTION.REVERSE,t.start=r._row.length-t.start,t.end=r._row.length-t.end)):t.direction=n.DIRECTION.FORWARD,t&&(t.format=r.FORMAT),t},n.prototype._matchRange=function(e,t,r){var n;for(n=e=e<0?0:e;n<t;n++)if(this._row[n]!==r)return!1;return!0},n.prototype._fillCounters=function(e,t,r){var n,o=this,i=0,a=[];for(r=void 0===r||r,e=void 0!==e?e:o._nextUnset(o._row),t=t||o._row.length,a[i]=0,n=e;n<t;n++)o._row[n]^r?a[i]++:(a[++i]=1,r=!r);return a},n.prototype._toCounters=function(e,t){var r,n=this,i=t.length,a=n._row.length,s=!n._row[e],c=0;for(o.a.init(t,0),r=e;r<a;r++)if(n._row[r]^s)t[c]++;else{if(++c===i)break;t[c]=1,s=!s}return t},Object.defineProperty(n.prototype,"FORMAT",{value:"unknown",writeable:!1}),n.DIRECTION={FORWARD:1,REVERSE:-1},n.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},n.CONFIG_KEYS={},t.a=n},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";t.a={init:function(e,t){for(var r=e.length;r--;)e[r]=t},shuffle:function(e){for(var t,r,n=e.length-1;n>=0;n--)t=Math.floor(Math.random()*n),r=e[n],e[n]=e[t],e[t]=r;return e},toPointList:function(e){var t,r,n=[],o=[];for(t=0;t<e.length;t++){for(n=[],r=0;r<e[t].length;r++)n[r]=e[t][r];o[t]="["+n.join(",")+"]"}return"["+o.join(",\r\n")+"]"},threshold:function(e,t,r){var n,o=[];for(n=0;n<e.length;n++)r.apply(e,[e[n]])>=t&&o.push(e[n]);return o},maxIndex:function(e){var t,r=0;for(t=0;t<e.length;t++)e[t]>e[r]&&(r=t);return r},max:function(e){var t,r=0;for(t=0;t<e.length;t++)e[t]>r&&(r=e[t]);return r},sum:function(e){for(var t=e.length,r=0;t--;)r+=e[t];return r}}},function(e,t,r){"use strict";function n(e,t){e=i()(function(){var e={};return Object.keys(n.CONFIG_KEYS).forEach(function(t){e[t]=n.CONFIG_KEYS[t].default}),e}(),e),a.a.call(this,e,t)}var o=r(28),i=r.n(o),a=r(1),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};n.prototype=Object.create(a.a.prototype,{CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}}),n.prototype.constructor=n,n.prototype._decodeCode=function(e,t){var r,n,o,i=[0,0,0,0],a=this,s=e,c=!a._row[s],u=0,d={error:Number.MAX_VALUE,code:-1,start:e,end:e};for(t||(t=a.CODE_PATTERN.length),r=s;r<a._row.length;r++)if(a._row[r]^c)i[u]++;else{if(u===i.length-1){for(n=0;n<t;n++)(o=a._matchPattern(i,a.CODE_PATTERN[n]))<d.error&&(d.code=n,d.error=o);return d.end=r,d.error>a.AVG_CODE_ERROR?null:d}i[++u]=1,c=!c}return null},n.prototype._findPattern=function(e,t,r,n,o){var i,a,s,c,u=[],d=this,f=0,p={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t||(t=d._nextSet(d._row)),void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=d.AVG_CODE_ERROR),i=0;i<e.length;i++)u[i]=0;for(i=t;i<d._row.length;i++)if(d._row[i]^r)u[f]++;else{if(f===u.length-1){for(c=0,s=0;s<u.length;s++)c+=u[s];if((a=d._matchPattern(u,e))<o)return p.error=a,p.start=i-c,p.end=i,p;if(!n)return null;for(s=0;s<u.length-2;s++)u[s]=u[s+2];u[u.length-2]=0,u[u.length-1]=0,f--}else f++;u[f]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row);!t;){if(!(t=r._findPattern(r.START_PATTERN,n)))return null;if((e=t.start-(t.end-t.start))>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t;return(t=e.end+(e.end-e.start))<this._row.length&&this._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(e,t){var r=this,n=r._findPattern(r.STOP_PATTERN,e,t,!1);return null!==n?r._verifyTrailingWhitespace(n):null},n.prototype._calculateFirstDigit=function(e){var t;for(t=0;t<this.CODE_FREQUENCY.length;t++)if(e===this.CODE_FREQUENCY[t])return t;return null},n.prototype._decodePayload=function(e,t,r){var n,o,i=this,a=0;for(n=0;n<6;n++){if(!(e=i._decodeCode(e.end)))return null;e.code>=i.CODE_G_START?(e.code=e.code-i.CODE_G_START,a|=1<<5-n):a|=0<<5-n,t.push(e.code),r.push(e)}if(null===(o=i._calculateFirstDigit(a)))return null;if(t.unshift(o),null===(e=i._findPattern(i.MIDDLE_PATTERN,e.end,!0,!1)))return null;for(r.push(e),n=0;n<6;n++){if(!(e=i._decodeCode(e.end,i.CODE_G_START)))return null;r.push(e),t.push(e.code)}return e},n.prototype._decode=function(){var e,t,r=this,n=[],o=[],i={};if(!(e=r._findStart()))return null;if(t={code:e.code,start:e.start,end:e.end},o.push(t),!(t=r._decodePayload(t,n,o)))return null;if(!(t=r._findEnd(t.end,!1)))return null;if(o.push(t),!r._checksum(n))return null;if(this.supplements.length>0){var a=this._decodeExtensions(t.end);if(!a)return null;var c=a.decodedCodes[a.decodedCodes.length-1],u={start:c.start+((c.end-c.start)/2|0),end:c.end};if(!r._verifyTrailingWhitespace(u))return null;i={supplement:a,code:n.join("")+a.code}}return s({code:n.join(""),start:e.start,end:t.end,codeset:"",startInfo:e,decodedCodes:o},i)},n.prototype._decodeExtensions=function(e){var t,r,n=this._nextSet(this._row,e),o=this._findPattern(this.EXTENSION_START_PATTERN,n,!1,!1);if(null===o)return null;for(t=0;t<this.supplements.length;t++)if(null!==(r=this.supplements[t].decode(this._row,o.end)))return{code:r.code,start:n,startInfo:o,end:r.end,codeset:"",decodedCodes:r.decodedCodes};return null},n.prototype._checksum=function(e){var t,r=0;for(t=e.length-2;t>=0;t-=2)r+=e[t];for(r*=3,t=e.length-1;t>=0;t-=2)r+=e[t];return r%10==0},n.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},t.a=n},function(e,t,r){var n=r(38),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},function(e,t,r){var n=r(11),o=r(119),i=r(146),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?o(e):i(e)}},function(e,t,r){"use strict";t.a={drawRect:function(e,t,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=1,r.beginPath(),r.strokeRect(e.x,e.y,t.x,t.y)},drawPath:function(e,t,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=n.lineWidth,r.beginPath(),r.moveTo(e[0][t.x],e[0][t.y]);for(var o=1;o<e.length;o++)r.lineTo(e[o][t.x],e[o][t.y]);r.closePath(),r.stroke()},drawImage:function(e,t,r){var n,o=r.getImageData(0,0,t.x,t.y),i=o.data,a=e.length,s=i.length;if(s/a!=4)return!1;for(;a--;)n=e[a],i[--s]=255,i[--s]=n,i[--s]=n,i[--s]=n;return r.putImageData(o,0,0),!0}}},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(133),i=r(134),a=r(135),s=r(136),c=r(137);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){var n=r(5).Symbol;e.exports=n},function(e,t,r){var n=r(17);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(2),o=r(130),i=r(154),a=r(165);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,r){var n=r(131);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(22)(Object,"create");e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(96),o=r(6),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){"use strict";function n(e,t){function r(e,t){var r,n=0;for(r=e;r<=t;r++)n+=o[r];return n}function n(e,t){var r,n=0;for(r=e;r<=t;r++)n+=r*o[r];return n}t||(t=8);var o,i=8-t;return function(){var i,s,c,u,d,f=[0],p=(1<<t)-1;for(o=function(e,t){t||(t=8);for(var r=e.data,n=r.length,o=8-t,i=new Int32Array(1<<t);n--;)i[r[n]>>o]++;return i}(e,t),u=1;u<p;u++)0==(c=(i=r(0,u))*(s=r(u+1,p)))&&(c=1),d=n(0,u)*s-n(u+1,p)*i,f[u]=d*d/c;return a.a.maxIndex(f)}()<<i}function o(e){var t,r=[],n=[];for(t=1;t<Math.sqrt(e)+1;t++)e%t==0&&(n.push(t),t!==e/t&&r.unshift(Math.floor(e/t)));return n.concat(r)}var i=r(50),a=r(3);t.b=function(e,t){return{x:e,y:t,toVec2:function(){return s.clone([this.x,this.y])},toVec3:function(){return c.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}},t.f=function(e,t){var r=n(e);return function(e,t,r){r||(r=e);for(var n=e.data,o=n.length,i=r.data;o--;)i[o]=n[o]<t?1:0}(e,r,t),r},t.g=function(e,t,r){function n(e){var t=!1;for(a=0;a<u.length;a++)(s=u[a]).fits(e)&&(s.add(e),t=!0);return t}var o,a,s,c,u=[];for(r||(r="rad"),o=0;o<e.length;o++)n(c=i.a.createPoint(e[o],o,r))||u.push(i.a.create(c,t));return u},t.h=function(e,t,r){var n,o,i,a,s=0,c=0,u=[];for(n=0;n<t;n++)u[n]={score:0,item:null};for(n=0;n<e.length;n++)if((o=r.apply(this,[e[n]]))>c)for((i=u[s]).score=o,i.item=e[n],c=Number.MAX_VALUE,a=0;a<t;a++)u[a].score<c&&(c=u[a].score,s=a);return u},t.c=function(e,t,r){for(var n,o=0,i=t.x,a=Math.floor(e.length/4),s=t.x/2,c=0,u=t.x;i<a;){for(n=0;n<s;n++)r[c]=(.299*e[4*o+0]+.587*e[4*o+1]+.114*e[4*o+2]+(.299*e[4*(o+1)+0]+.587*e[4*(o+1)+1]+.114*e[4*(o+1)+2])+(.299*e[4*i+0]+.587*e[4*i+1]+.114*e[4*i+2])+(.299*e[4*(i+1)+0]+.587*e[4*(i+1)+1]+.114*e[4*(i+1)+2]))/4,c++,o+=2,i+=2;o+=u,i+=u}},t.d=function(e,t,r){var n,o=e.length/4|0;if(r&&!0===r.singleChannel)for(n=0;n<o;n++)t[n]=e[4*n+0];else for(n=0;n<o;n++)t[n]=.299*e[4*n+0]+.587*e[4*n+1]+.114*e[4*n+2]},t.i=function(e,t){for(var r=e.data,n=e.size.x,o=t.data,i=0,a=n,s=r.length,c=n/2,u=0;a<s;){for(var d=0;d<c;d++)o[u]=Math.floor((r[i]+r[i+1]+r[a]+r[a+1])/4),u++,i+=2,a+=2;i+=n,a+=n}},t.a=function(e,t){var r=e[0],n=e[1],o=e[2],i=o*n,a=i*(1-Math.abs(r/60%2-1)),s=o-i,c=0,u=0,d=0;return r<60?(c=i,u=a):r<120?(c=a,u=i):r<180?(u=i,d=a):r<240?(u=a,d=i):r<300?(c=a,d=i):r<360&&(c=i,d=a),(t=t||[0,0,0])[0]=255*(c+s)|0,t[1]=255*(u+s)|0,t[2]=255*(d+s)|0,t},t.e=function(e,t){function r(e){for(var t=0,r=e[Math.floor(e.length/2)];t<e.length-1&&e[t]<l;)t++;return t>0&&(r=Math.abs(e[t]-l)>Math.abs(e[t-1]-l)?e[t-1]:e[t]),l/r<u[f+1]/u[f]&&l/r>u[f-1]/u[f]?{x:r,y:r}:null}var n,i=o(t.x),a=o(t.y),s=Math.max(t.x,t.y),c=function(e,t){for(var r=0,n=0,o=[];r<e.length&&n<t.length;)e[r]===t[n]?(o.push(e[r]),r++,n++):e[r]>t[n]?n++:r++;return o}(i,a),u=[8,10,15,20,32,60,80],d={"x-small":5,small:4,medium:3,large:2,"x-large":1},f=d[e]||d.medium,p=u[f],l=Math.floor(s/p);return(n=r(c))||(n=r(o(s)))||(n=r(o(l*p))),n},t.j=function(e,t,r){var n={width:e,height:t},o=Object.keys(r).reduce(function(e,t){var o=function(e){return{value:parseFloat(e),unit:(e.indexOf("%"),e.length,"%")}}(r[t]),i=u[t](o,n);return e[t]=i,e},{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}};var s={clone:r(7)},c={clone:r(83)},u={top:function(e,t){if("%"===e.unit)return Math.floor(t.height*(e.value/100))},right:function(e,t){if("%"===e.unit)return Math.floor(t.width-t.width*(e.value/100))},bottom:function(e,t){if("%"===e.unit)return Math.floor(t.height-t.height*(e.value/100))},left:function(e,t){if("%"===e.unit)return Math.floor(t.width*(e.value/100))}}},function(e,t,r){"use strict";function n(e,t,r,n){t?this.data=t:r?(this.data=new r(e.x*e.y),r===Array&&n&&a.a.init(this.data,0)):(this.data=new Uint8Array(e.x*e.y),Uint8Array===Array&&n&&a.a.init(this.data,0)),this.size=e}var o=r(53),i=r(19),a=r(3),s={clone:r(7)};n.prototype.inImageWithBorder=function(e,t){return e.x>=t&&e.y>=t&&e.x<this.size.x-t&&e.y<this.size.y-t},n.sample=function(e,t,r){var n=Math.floor(t),o=Math.floor(r),i=e.size.x,a=o*e.size.x+n,s=e.data[a+0],c=e.data[a+1],u=e.data[a+i],d=e.data[a+i+1],f=s-c;return t-=n,r-=o,Math.floor(t*(r*(f-u+d)-f)+r*(u-s)+s)},n.clearArray=function(e){for(var t=e.length;t--;)e[t]=0},n.prototype.subImage=function(e,t){return new o.a(e,t,this)},n.prototype.subImageAsCopy=function(e,t){var r,n,o=e.size.y,i=e.size.x;for(r=0;r<i;r++)for(n=0;n<o;n++)e.data[n*i+r]=this.data[(t.y+n)*this.size.x+t.x+r]},n.prototype.copyTo=function(e){for(var t=this.data.length,r=this.data,n=e.data;t--;)n[t]=r[t]},n.prototype.get=function(e,t){return this.data[t*this.size.x+e]},n.prototype.getSafe=function(e,t){var r;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},r=0;r<this.size.x;r++)this.indexMapping.x[r]=r,this.indexMapping.x[r+this.size.x]=r;for(r=0;r<this.size.y;r++)this.indexMapping.y[r]=r,this.indexMapping.y[r+this.size.y]=r}return this.data[this.indexMapping.y[t+this.size.y]*this.size.x+this.indexMapping.x[e+this.size.x]]},n.prototype.set=function(e,t,r){return this.data[t*this.size.x+e]=r,this},n.prototype.zeroBorder=function(){var e,t=this.size.x,r=this.size.y,n=this.data;for(e=0;e<t;e++)n[e]=n[(r-1)*t+e]=0;for(e=1;e<r-1;e++)n[e*t]=n[e*t+(t-1)]=0},n.prototype.invert=function(){for(var e=this.data,t=e.length;t--;)e[t]=e[t]?0:1},n.prototype.convolve=function(e){var t,r,n,o,i=e.length/2|0,a=0;for(r=0;r<this.size.y;r++)for(t=0;t<this.size.x;t++){for(a=0,o=-i;o<=i;o++)for(n=-i;n<=i;n++)a+=e[o+i][n+i]*this.getSafe(t+n,r+o);this.data[r*this.size.x+t]=a}},n.prototype.moments=function(e){var t,r,n,o,i,a,c,u,d,f,p=this.data,l=this.size.y,h=this.size.x,v=[],m=[],g=Math.PI,y=g/4;if(e<=0)return m;for(i=0;i<e;i++)v[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(r=0;r<l;r++)for(o=r*r,t=0;t<h;t++)(n=p[r*h+t])>0&&((a=v[n-1]).m00+=1,a.m01+=r,a.m10+=t,a.m11+=t*r,a.m02+=o,a.m20+=t*t);for(i=0;i<e;i++)a=v[i],isNaN(a.m00)||0===a.m00||(u=a.m10/a.m00,d=a.m01/a.m00,c=a.m11/a.m00-u*d,f=(a.m02/a.m00-d*d-(a.m20/a.m00-u*u))/(2*c),f=.5*Math.atan(f)+(c>=0?y:-y)+g,a.theta=(180*f/g+90)%180-90,a.theta<0&&(a.theta+=180),a.rad=f>g?f-g:f,a.vec=s.clone([Math.cos(f),Math.sin(f)]),m.push(a));return m},n.prototype.show=function(e,t){var r,n,o,i,a,s,c;for(t||(t=1),r=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,o=(n=r.getImageData(0,0,e.width,e.height)).data,i=0,c=0;c<this.size.y;c++)for(s=0;s<this.size.x;s++)a=c*this.size.x+s,i=this.get(s,c)*t,o[4*a+0]=i,o[4*a+1]=i,o[4*a+2]=i,o[4*a+3]=255;r.putImageData(n,0,0)},n.prototype.overlay=function(e,t,n){(!t||t<0||t>360)&&(t=360);for(var o=[0,1,1],a=[0,0,0],s=[255,255,255],c=[0,0,0],u=[],d=e.getContext("2d"),f=d.getImageData(n.x,n.y,this.size.x,this.size.y),p=f.data,l=this.data.length;l--;)o[0]=this.data[l]*t,u=o[0]<=0?s:o[0]>=360?c:r.i(i.a)(o,a),p[4*l+0]=u[0],p[4*l+1]=u[1],p[4*l+2]=u[2],p[4*l+3]=255;d.putImageData(f,n.x,n.y)},t.a=n},function(e,t,r){var n=r(37);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(97),o=r(120);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(27),o=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,r){var n=r(25),o=r(26);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t,r){var n=r(8),o=r(0),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=n(e);return t==a||t==s||t==i||t==c}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){var n=r(8),o=r(6),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&n(e)==i}},function(e,t,r){var n=r(100),o=r(116)(function(e,t,r){n(e,t,r)});e.exports=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";t.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,t){function r(e,t,r,n){var o,d,f;for(o=0;o<7;o++){if(d=e.cy+c[e.dir][0],f=e.cx+c[e.dir][1],a[i=d*u+f]===t&&(0===s[i]||s[i]===r))return s[i]=r,e.cy=d,e.cx=f,!0;0===s[i]&&(s[i]=n),e.dir=(e.dir+1)%8}return!1}function n(e,t,r){return{dir:r,x:e,y:t,next:null,prev:null}}function o(e,t,o,i,a){var s,c,u,d=null,f={cx:t,cy:e,dir:0};if(r(f,i,o,a)){s=d=n(t,e,f.dir),u=f.dir,(c=n(f.cx,f.cy,0)).prev=s,s.next=c,c.next=null,s=c;do{f.dir=(f.dir+6)%8,r(f,i,o,a),u!==f.dir?(s.dir=f.dir,(c=n(f.cx,f.cy,0)).prev=s,s.next=c,c.next=null,s=c):(s.dir=u,s.x=f.cx,s.y=f.cy),u=f.dir}while(f.cx!==t||f.cy!==e);d.prev=s.prev,s.prev.next=d}return d}var i,a=e.data,s=t.data,c=this.searchDirections,u=e.size.x;return{trace:function(e,t,n,o){return r(e,t,n,o)},contourTracing:function(e,t,r,n,i){return o(e,t,r,n,i)}}}}},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(1),i=r(3);n.prototype=Object.create(o.a.prototype,{ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}}),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o=this,a=[0,0,0,0,0,0,0,0,0],s=[],c=o._findStart();if(!c)return null;n=o._nextSet(o._row,c.end);do{if(a=o._toCounters(n,a),(r=o._toPattern(a))<0)return null;if((e=o._patternToChar(r))<0)return null;s.push(e),t=n,n+=i.a.sum(a),n=o._nextSet(o._row,n)}while("*"!==e);return s.pop(),s.length&&o._verifyTrailingWhitespace(t,n,a)?{code:s.join(""),start:c.start,end:n,startInfo:c,decodedCodes:s}:null},n.prototype._verifyTrailingWhitespace=function(e,t,r){var n=i.a.sum(r);return 3*(t-e-n)>=n},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._findNextWidth=function(e,t){var r,n=Number.MAX_VALUE;for(r=0;r<e.length;r++)e[r]<n&&e[r]>t&&(n=e[r]);return n},n.prototype._toPattern=function(e){for(var t,r,n=e.length,o=0,i=n,a=0;i>3;){for(o=this._findNextWidth(e,o),i=0,t=0,r=0;r<n;r++)e[r]>o&&(t|=1<<n-1-r,i++,a+=e[r]);if(3===i){for(r=0;r<n&&i>0;r++)if(e[r]>o&&(i--,2*e[r]>=a))return-1;return t}}return-1},n.prototype._findStart=function(){var e,t,r,n=this,o=n._nextSet(n._row),i=o,a=[0,0,0,0,0,0,0,0,0],s=0,c=!1;for(e=o;e<n._row.length;e++)if(n._row[e]^c)a[s]++;else{if(s===a.length-1){if(n._toPattern(a)===n.ASTERISK&&(r=Math.floor(Math.max(0,i-(e-i)/4)),n._matchRange(r,i,0)))return{start:i,end:e};for(i+=a[0]+a[1],t=0;t<7;t++)a[t]=a[t+2];a[7]=0,a[8]=0,s--}else s++;a[s]=1,c=!c}return null},t.a=n},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},function(e,t,r){var n=r(22)(r(5),"Map");e.exports=n},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(138),i=r(139),a=r(140),s=r(141),c=r(142);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){var n=r(21),o=r(17);e.exports=function(e,t,r){(void 0===r||o(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(21),o=r(17),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(22),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(47))},function(e,t,r){var n=r(147)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(87),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(c),n(e,this,u)}}},function(e,t,r){var n=r(106),o=r(148)(n);e.exports=o},function(e,t){e.exports=function(e){return e}},function(e,t,r){(function(e){var n=r(5),o=r(163),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(t,r(29)(e))},function(e,t,r){var n=r(98),o=r(109),i=r(145),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},function(e,t,r){var n=r(88),o=r(99),i=r(24);e.exports=function(e){return i(e)?n(e,!0):o(e)}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(t,r,n){"use strict";function o(e){(function(e){_=e||new x.a({x:m.getWidth(),y:m.getHeight()}),C=[L.clone([0,0]),L.clone([0,_.size.y]),L.clone([_.size.x,_.size.y]),L.clone([_.size.x,0])],w.a.init(_,G.locator)})(e),T=P.a.create(G.decoder,_)}function i(e){var t;if("VideoStream"===G.inputStream.type)t=document.createElement("video"),m=I.a.createVideoStream(t);else if("ImageStream"===G.inputStream.type)m=I.a.createImageStream();else if("LiveStream"===G.inputStream.type){var r=a();r&&((t=r.querySelector("video"))||(t=document.createElement("video"),r.appendChild(t))),m=I.a.createLiveStream(t),D.a.request(t,G.inputStream.constraints).then(function(){m.trigger("canrecord")}).catch(function(t){return e(t)})}m.setAttribute("preload","auto"),m.setInputStream(G.inputStream),m.addEventListener("canrecord",function(e){w.a.checkImageConstraints(m,G.locator),function(){if("undefined"!=typeof document){var e=a();if(z.dom.image=document.querySelector("canvas.imgBuffer"),z.dom.image||(z.dom.image=document.createElement("canvas"),z.dom.image.className="imgBuffer",e&&"ImageStream"===G.inputStream.type&&e.appendChild(z.dom.image)),z.ctx.image=z.dom.image.getContext("2d"),z.dom.image.width=m.getCanvasSize().x,z.dom.image.height=m.getCanvasSize().y,z.dom.overlay=document.querySelector("canvas.drawingBuffer"),!z.dom.overlay){z.dom.overlay=document.createElement("canvas"),z.dom.overlay.className="drawingBuffer",e&&e.appendChild(z.dom.overlay);var t=document.createElement("br");t.setAttribute("clear","all"),e&&e.appendChild(t)}z.ctx.overlay=z.dom.overlay.getContext("2d"),z.dom.overlay.width=m.getCanvasSize().x,z.dom.overlay.height=m.getCanvasSize().y}}(),g=j.a.create(m,z.dom.image),v(G.numOfWorkers,function(){0===G.numOfWorkers&&o(),function(e){m.play(),e()}(e)})}.bind(void 0,e))}function a(){var e=G.inputStream.target;if(e&&e.nodeName&&1===e.nodeType)return e;var t="string"==typeof e?e:"#interactive.viewport";return document.querySelector(t)}function s(e,t){var r=e;e&&F&&(function e(t){function r(e){for(var t=e.length;t--;)e[t][0]+=i,e[t][1]+=a}var n,o=m.getTopRight(),i=o.x,a=o.y;if(0!==i||0!==a){if(t.barcodes)for(n=0;n<t.barcodes.length;n++)e(t.barcodes[n]);if(t.line&&2===t.line.length&&function(e){e[0].x+=i,e[0].y+=a,e[1].x+=i,e[1].y+=a}(t.line),t.box&&r(t.box),t.boxes&&t.boxes.length>0)for(n=0;n<t.boxes.length;n++)r(t.boxes[n])}}(e),function e(t,r){r&&S&&(t.barcodes?t.barcodes.filter(function(e){return e.codeResult}).forEach(function(t){return e(t,r)}):t.codeResult&&S.addResult(r,m.getCanvasSize(),t.codeResult))}(e,t),r=e.barcodes||e),O.a.publish("processed",r),function(e){return e&&(e.barcodes?e.barcodes.some(function(e){return e.codeResult}):e.codeResult)}(e)&&O.a.publish("detected",r)}function c(){var e,t;(t=G.locate?w.a.locate():[[L.clone(C[0]),L.clone(C[1]),L.clone(C[2]),L.clone(C[3])]])?((e=(e=T.decodeFromBoundingBoxes(t))||{}).boxes=t,s(e,_.data)):s()}function u(){var e;if(F){if(U.length>0){if(!(e=U.filter(function(e){return!e.busy})[0]))return;g.attachData(e.imageData)}else g.attachData(_.data);g.grab()&&(e?(e.busy=!0,e.worker.postMessage({cmd:"process",imageData:e.imageData},[e.imageData.buffer])):c())}else c()}function d(){var e,t;F&&"LiveStream"===G.inputStream.type?(e=null,t=1e3/(G.frequency||60),y=!1,function r(n){e=e||n,y||(n>=e&&(e+=t,u()),window.requestAnimFrame(r))}(performance.now())):u()}function f(e){var t,r={worker:void 0,imageData:new Uint8Array(m.getWidth()*m.getHeight()),busy:!0};t=h(),r.worker=new Worker(t),r.worker.onmessage=function(n){if("initialized"===n.data.event)return URL.revokeObjectURL(t),r.busy=!1,r.imageData=new Uint8Array(n.data.imageData),e(r);"processed"===n.data.event?(r.imageData=new Uint8Array(n.data.imageData),r.busy=!1,s(n.data.result,r.imageData)):n.data.event},r.worker.postMessage({cmd:"init",size:{x:m.getWidth(),y:m.getHeight()},imageData:r.imageData,config:p(G)},[r.imageData.buffer])}function p(e){return N({},e,{inputStream:N({},e.inputStream,{target:null})})}function l(e){function t(e){self.postMessage({event:"processed",imageData:o.data,result:e},[o.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:o.data},[o.data.buffer])}if(e){var n=e().default;if(!n)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var o;self.onmessage=function(e){if("init"===e.data.cmd){var i=e.data.config;i.numOfWorkers=0,o=new n.ImageWrapper({x:e.data.size.x,y:e.data.size.y},new Uint8Array(e.data.imageData)),n.init(i,r,o),n.onProcessed(t)}else"process"===e.data.cmd?(o.data=new Uint8Array(e.data.imageData),n.start()):"setReaders"===e.data.cmd&&n.setReaders(e.data.readers)}}function h(){var t,r;return void 0!==e&&(r=e),t=new Blob(["("+l.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)}function v(e,t){var r=e-U.length;if(0===r)return t&&t();if(r<0)return U.slice(r).forEach(function(e){e.worker.terminate()}),U=U.slice(0,r),t&&t();for(var n=function(r){U.push(r),U.length>=e&&t&&t()},o=0;o<r;o++)f(n)}Object.defineProperty(r,"__esModule",{value:!0});var m,g,y,_,C,T,S,R=n(28),b=n.n(R),E=n(54),x=(n.n(E),n(20)),w=n(64),P=n(57),O=n(51),D=n(59),A=n(9),k=n(49),M=n(55),I=n(63),j=n(61),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L={clone:n(7)},z={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},U=[],F=!0,G={};r.default={init:function(e,t,r){if(G=b()({},M.a,e),r)return F=!1,o(r),t();i(t)},start:function(){d()},stop:function(){y=!0,v(0),"LiveStream"===G.inputStream.type&&(D.a.release(),m.clearEventHandlers())},pause:function(){y=!0},onDetected:function(e){O.a.subscribe("detected",e)},offDetected:function(e){O.a.unsubscribe("detected",e)},onProcessed:function(e){O.a.subscribe("processed",e)},offProcessed:function(e){O.a.unsubscribe("processed",e)},setReaders:function(e){!function(e){T?T.setReaders(e):F&&U.length>0&&U.forEach(function(t){t.worker.postMessage({cmd:"setReaders",readers:e})})}(e)},registerResultCollector:function(e){e&&"function"==typeof e.addResult&&(S=e)},canvas:z,decodeSingle:function(e,t){var r=this;e=b()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:e.src},numOfWorkers:1,locator:{halfSample:!1}},e),this.init(e,function(){O.a.once("processed",function(e){r.stop(),t.call(null,e)},!0),d()})},ImageWrapper:x.a,ImageDebug:A.a,ResultCollector:k.a,CameraAccess:D.a}},function(e,t,r){"use strict";var n=r(9);t.a={create:function(e){function t(t){return a&&t&&!function(e,t){return!!t&&t.some(function(t){return Object.keys(t).every(function(r){return t[r]===e[r]})})}(t,e.blacklist)&&function(e,t){return"function"!=typeof t||t(e)}(t,e.filter)}var r=document.createElement("canvas"),o=r.getContext("2d"),i=[],a=e.capacity||20,s=!0===e.capture;return{addResult:function(e,c,u){var d={};t(u)&&(a--,d.codeResult=u,s&&(r.width=c.x,r.height=c.y,n.a.drawImage(e,c,o),d.frame=r.toDataURL()),i.push(d))},getResults:function(){return i}}}}},function(e,t,r){"use strict";var n={clone:r(7),dot:r(32)};t.a={create:function(e,t){function r(e){s[e.id]=e,i.push(e)}function o(){var e,t=0;for(e=0;e<i.length;e++)t+=i[e].rad;a.rad=t/i.length,a.vec=n.clone([Math.cos(a.rad),Math.sin(a.rad)])}var i=[],a={rad:0,vec:n.clone([0,0])},s={};return r(e),o(),{add:function(e){s[e.id]||(r(e),o())},fits:function(e){return Math.abs(n.dot(e.point.vec,a.vec))>t},getPoints:function(){return i},getCenter:function(){return a}}},createPoint:function(e,t,r){return{rad:e[r],point:e,id:t}}}},function(e,t,r){"use strict";t.a=function(){function e(e){return o[e]||(o[e]={subscribers:[]}),o[e]}function t(){o={}}function r(e,t){e.async?setTimeout(function(){e.callback(t)},4):e.callback(t)}function n(t,r,n){var o;if("function"==typeof r)o={callback:r,async:n};else if(!(o=r).callback)throw"Callback was not specified on options";e(t).subscribers.push(o)}var o={};return{subscribe:function(e,t,r){return n(e,t,r)},publish:function(t,n){var o=e(t),i=o.subscribers;i.filter(function(e){return!!e.once}).forEach(function(e){r(e,n)}),o.subscribers=i.filter(function(e){return!e.once}),o.subscribers.forEach(function(e){r(e,n)})},once:function(e,t,r){n(e,{callback:t,async:r,once:!0})},unsubscribe:function(r,n){var o;r?(o=e(r)).subscribers=o&&n?o.subscribers.filter(function(e){return e.callback!==n}):[]:t()}}}()},function(e,t,r){"use strict";t.b=function(){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))},t.a=function(e){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e):Promise.reject(new Error("getUserMedia is not defined"))}},function(e,t,r){"use strict";function n(e,t,r){r||(r={data:null,size:t}),this.data=r.data,this.originalSize=r.size,this.I=r,this.from=e,this.size=t}n.prototype.show=function(e,t){var r,n,o,i,a,s,c;for(t||(t=1),r=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,o=(n=r.getImageData(0,0,e.width,e.height)).data,i=0,a=0;a<this.size.y;a++)for(s=0;s<this.size.x;s++)c=a*this.size.x+s,i=this.get(s,a)*t,o[4*c+0]=i,o[4*c+1]=i,o[4*c+2]=i,o[4*c+3]=255;n.data=o,r.putImageData(n,0,0)},n.prototype.get=function(e,t){return this.data[(this.from.y+t)*this.originalSize.x+this.from.x+e]},n.prototype.updateData=function(e){this.originalSize=e.size,this.data=e.data},n.prototype.updateFrom=function(e){return this.from=e,this},t.a=n},function(e,t){"undefined"!=typeof window&&(window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}),Math.imul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!==n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t})},function(e,t,r){"use strict";var n;n=r(56),t.a=n},function(e,t){e.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(e,t,r){"use strict";var n=r(58),o=(r(9),r(69)),i=r(4),a=r(31),s=r(70),c=r(68),u=r(77),d=r(74),f=r(72),p=r(73),l=r(76),h=r(75),v=r(67),m=r(71),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y={code_128_reader:o.a,ean_reader:i.a,ean_5_reader:p.a,ean_2_reader:f.a,ean_8_reader:d.a,code_39_reader:a.a,code_39_vin_reader:s.a,codabar_reader:c.a,upc_reader:u.a,upc_e_reader:l.a,i2of5_reader:h.a,"2of5_reader":v.a,code_93_reader:m.a};t.a={create:function(e,t){function r(){e.readers.forEach(function(e){var t,r={},n=[];"object"===(void 0===e?"undefined":g(e))?(t=e.format,r=e.config):"string"==typeof e&&(t=e),r.supplements&&(n=r.supplements.map(function(e){return new y[e]})),c.push(new y[t](r,n))})}function o(e,r,n){function o(t){var n=t*Math.sin(r),o=t*Math.cos(r);e[0].y-=n,e[0].x-=o,e[1].y+=n,e[1].x+=o}for(o(n);n>1&&(!t.inImageWithBorder(e[0],0)||!t.inImageWithBorder(e[1],0));)o(-(n-=Math.ceil(n/2)));return e}function i(e){var r,o=null,i=n.a.getBarcodeLine(t,e[0],e[1]);for(n.a.toBinaryLine(i),r=0;r<c.length&&null===o;r++)o=c[r].decodePattern(i.line);return null===o?null:{codeResult:o,barcodeLine:i}}function a(e){var t,r,n,a;return s.ctx.overlay,a=function(e){return Math.sqrt(Math.pow(Math.abs(e[1].y-e[0].y),2)+Math.pow(Math.abs(e[1].x-e[0].x),2))}(t=function(e){return[{x:(e[1][0]-e[0][0])/2+e[0][0],y:(e[1][1]-e[0][1])/2+e[0][1]},{x:(e[3][0]-e[2][0])/2+e[2][0],y:(e[3][1]-e[2][1])/2+e[2][1]}]}(e)),null===(t=o(t,r=Math.atan2(t[1].y-t[0].y,t[1].x-t[0].x),Math.floor(.1*a)))?null:(null===(n=i(t))&&(n=function(e,t,r){var n,o,a,s=Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2)),c=null,u=Math.sin(r),d=Math.cos(r);for(n=1;n<16&&null===c;n++)a={y:(o=s/16*n*(n%2==0?-1:1))*u,x:o*d},t[0].y+=a.x,t[0].x-=a.y,t[1].y+=a.x,t[1].x-=a.y,c=i(t);return c}(e,t,r)),null===n?null:{codeResult:n.codeResult,line:t,angle:r,pattern:n.barcodeLine.line,threshold:n.barcodeLine.threshold})}var s={ctx:{frequency:null,pattern:null,overlay:null},dom:{frequency:null,pattern:null,overlay:null}},c=[];return r(),{decodeFromBoundingBox:function(e){return a(e)},decodeFromBoundingBoxes:function(t){var r,n,o=[],i=e.multiple;for(r=0;r<t.length;r++){var s=t[r];if((n=a(s)||{}).box=s,i)o.push(n);else if(n.codeResult)return n}if(i)return{barcodes:o}},setReaders:function(t){e.readers=t,c.length=0,r()}}}}},function(e,t,r){"use strict";var n=(r(20),{}),o={UP:1,DOWN:-1};n.getBarcodeLine=function(e,t,r){function n(e,t){f=y[t*_+e],f,C=f<C?f:C,T=f>T?f:T,g.push(f)}var o,i,a,s,c,u,d,f,p=0|t.x,l=0|t.y,h=0|r.x,v=0|r.y,m=Math.abs(v-l)>Math.abs(h-p),g=[],y=e.data,_=e.size.x,C=255,T=0;for(m&&(u=p,p=l,l=u,u=h,h=v,v=u),p>h&&(u=p,p=h,h=u,u=l,l=v,v=u),o=h-p,i=Math.abs(v-l),a=o/2|0,c=l,s=l<v?1:-1,d=p;d<h;d++)m?n(c,d):n(d,c),(a-=i)<0&&(c+=s,a+=o);return{line:g,min:C,max:T}},n.toBinaryLine=function(e){var t,r,n,i,a,s,c=e.min,u=e.max,d=e.line,f=c+(u-c)/2,p=[],l=(u-c)/12,h=-l;for(n=d[0]>f?o.UP:o.DOWN,p.push({pos:0,val:d[0]}),a=0;a<d.length-2;a++)n!==(i=(t=d[a+1]-d[a])+(r=d[a+2]-d[a+1])<h&&d[a+1]<1.5*f?o.DOWN:t+r>l&&d[a+1]>.5*f?o.UP:n)&&(p.push({pos:a,val:d[a]}),n=i);for(p.push({pos:d.length,val:d[d.length-1]}),s=p[0].pos;s<p[1].pos;s++)d[s]=d[s]>f?0:1;for(a=1;a<p.length-1;a++)for(l=p[a+1].val>p[a].val?p[a].val+(p[a+1].val-p[a].val)/3*2|0:p[a+1].val+(p[a].val-p[a+1].val)/3|0,s=p[a].pos;s<p[a+1].pos;s++)d[s]=d[s]>l?0:1;return{line:d,threshold:l}},n.debug={printFrequency:function(e,t){var r,n=t.getContext("2d");for(t.width=e.length,t.height=256,n.beginPath(),n.strokeStyle="blue",r=0;r<e.length;r++)n.moveTo(r,255),n.lineTo(r,255-e[r]);n.stroke(),n.closePath()},printPattern:function(e,t){var r,n=t.getContext("2d");for(t.width=e.length,n.fillColor="black",r=0;r<e.length;r++)1===e[r]&&n.fillRect(r,0,1,100)}},t.a=n},function(e,t,r){"use strict";function n(e,t){return r.i(u.a)(t).then(function(t){return new Promise(function(r){a=t,e.setAttribute("autoplay",!0),e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.srcObject=t,e.addEventListener("loadedmetadata",function(){e.play(),r()})})}).then(function(e){return new Promise(function(t,r){var n=10;!function o(){n>0?e.videoWidth>10&&e.videoHeight>10?t():window.setTimeout(o,500):r("Unable to play video stream. Is webcam working?"),n--}()})}.bind(null,e))}function o(e){var t=c()(e,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==e.minAspectRatio&&e.minAspectRatio>0&&(t.aspectRatio=e.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==e.facing&&(t.facingMode=e.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),t}function i(){if(a){var e=a.getVideoTracks();if(e&&e.length)return e[0]}}var a,s=r(162),c=r.n(s),u=r(52);t.a={request:function(e,t){return function(e){var t={audio:!1,video:o(e)};return t.video.deviceId&&t.video.facingMode&&delete t.video.facingMode,Promise.resolve(t)}(t).then(n.bind(null,e))},release:function(){var e=a&&a.getVideoTracks();e&&e.length&&e[0].stop(),a=null},enumerateVideoDevices:function(){return r.i(u.b)().then(function(e){return e.filter(function(e){return"videoinput"===e.kind})})},getActiveStreamLabel:function(){var e=i();return e?e.label:""},getActiveTrack:i}},function(e,t,r){"use strict";function n(e){return new Promise(function(t){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.readAsArrayBuffer(e)})}function o(e,t,r){if("Exif"!==function(e,t,r){for(var n="",o=t;o<t+r;o++)n+=String.fromCharCode(e.getUint8(o));return n}(e,t,4))return!1;var n=t+6,o=void 0;if(18761===e.getUint16(n))o=!1;else{if(19789!==e.getUint16(n))return!1;o=!0}if(42!==e.getUint16(n+2,!o))return!1;var a=e.getUint32(n+4,!o);return!(a<8)&&function(e,t,r,n,o){for(var a=e.getUint16(r,!o),s={},c=0;c<a;c++){var u=r+12*c+2,d=n[e.getUint16(u,!o)];d&&(s[d]=i(e,u,t,r,o))}return s}(e,n,n+a,r,o)}function i(e,t,r,n,o){var i=e.getUint16(t+2,!o),a=e.getUint32(t+4,!o);switch(i){case 3:if(1===a)return e.getUint16(t+8,!o)}}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return/^blob\:/i.test(e)?function(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||200!==n.status&&0!==n.status||t(this.response)},n.onerror=r,n.send()})}(e).then(n).then(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=new DataView(e),n=e.byteLength,i=t.reduce(function(e,t){var r=Object.keys(a).filter(function(e){return a[e]===t})[0];return r&&(e[r]=t),e},{}),c=2;if(255!==r.getUint8(0)||216!==r.getUint8(1))return!1;for(;c<n;){if(255!==r.getUint8(c))return!1;if(225===r.getUint8(c+1))return o(r,c+4,i);c+=2+r.getUint16(c+2)}}(e,t)}):Promise.resolve(null)};var a={274:"orientation"},s=Object.keys(a).map(function(e){return a[e]})},function(e,t,r){"use strict";var n=r(19),o=Math.PI/180,i={create:function(e,t){var i,a={},s=e.getConfig(),c=(r.i(n.b)(e.getRealWidth(),e.getRealHeight()),e.getCanvasSize()),u=r.i(n.b)(e.getWidth(),e.getHeight()),d=e.getTopRight(),f=d.x,p=d.y,l=null,h=null;return(i=t||document.createElement("canvas")).width=c.x,i.height=c.y,l=i.getContext("2d"),h=new Uint8Array(u.x*u.y),a.attachData=function(e){h=e},a.getData=function(){return h},a.grab=function(){var t,a=s.halfSample,d=e.getFrame(),v=d,m=0;if(v){if(function(e,t){e.width!==t.x&&(e.width=t.x),e.height!==t.y&&(e.height=t.y)}(i,c),"ImageStream"===s.type&&(v=d.img,d.tags&&d.tags.orientation))switch(d.tags.orientation){case 6:m=90*o;break;case 8:m=-90*o}return 0!==m?(l.translate(c.x/2,c.y/2),l.rotate(m),l.drawImage(v,-c.y/2,-c.x/2,c.y,c.x),l.rotate(-m),l.translate(-c.x/2,-c.y/2)):l.drawImage(v,0,0,c.x,c.y),t=l.getImageData(f,p,u.x,u.y).data,a?r.i(n.c)(t,u,h):r.i(n.d)(t,h,s),!0}return!1},a.getSize=function(){return u},a}};t.a=i},function(e,t,r){"use strict";function n(e,t){e.onload=function(){t.loaded(this)}}var o=r(60),i={load:function(e,t,i,a,s){var c,u,d,f=new Array(a),p=new Array(f.length);if(!1===s)f[0]=e;else for(c=0;c<f.length;c++)d=i+c,f[c]=e+"image-"+("00"+d).slice(-3)+".jpg";for(p.notLoaded=[],p.addImage=function(e){p.notLoaded.push(e)},p.loaded=function(n){for(var i=p.notLoaded,a=0;a<i.length;a++)if(i[a]===n){i.splice(a,1);for(var c=0;c<f.length;c++){var u=f[c].substr(f[c].lastIndexOf("/"));if(-1!==n.src.lastIndexOf(u)){p[c]={img:n};break}}break}0===i.length&&(!1===s?r.i(o.a)(e,["orientation"]).then(function(e){p[0].tags=e,t(p)}).catch(function(e){console.log(e),t(p)}):t(p))},c=0;c<f.length;c++)u=new Image,p.addImage(u),n(u,p),u.src=f[c]}};t.a=i},function(e,t,r){"use strict";var n=r(62),o={createVideoStream:function(e){function t(){var t=e.videoWidth,o=e.videoHeight;r=i.size?t/o>1?i.size:Math.floor(t/o*i.size):t,n=i.size?t/o>1?Math.floor(o/t*i.size):i.size:o,u.x=r,u.y=n}var r,n,o={},i=null,a=["canrecord","ended"],s={},c={x:0,y:0},u={x:0,y:0};return o.getRealWidth=function(){return e.videoWidth},o.getRealHeight=function(){return e.videoHeight},o.getWidth=function(){return r},o.getHeight=function(){return n},o.setWidth=function(e){r=e},o.setHeight=function(e){n=e},o.setInputStream=function(t){i=t,e.src=void 0!==t.src?t.src:""},o.ended=function(){return e.ended},o.getConfig=function(){return i},o.setAttribute=function(t,r){e.setAttribute(t,r)},o.pause=function(){e.pause()},o.play=function(){e.play()},o.setCurrentTime=function(t){"LiveStream"!==i.type&&(e.currentTime=t)},o.addEventListener=function(t,r,n){-1!==a.indexOf(t)?(s[t]||(s[t]=[]),s[t].push(r)):e.addEventListener(t,r,n)},o.clearEventHandlers=function(){a.forEach(function(t){var r=s[t];r&&r.length>0&&r.forEach(function(r){e.removeEventListener(t,r)})})},o.trigger=function(e,r){var n,i=s[e];if("canrecord"===e&&t(),i&&i.length>0)for(n=0;n<i.length;n++)i[n].apply(o,r)},o.setTopRight=function(e){c.x=e.x,c.y=e.y},o.getTopRight=function(){return c},o.setCanvasSize=function(e){u.x=e.x,u.y=e.y},o.getCanvasSize=function(){return u},o.getFrame=function(){return e},o},createLiveStream:function(e){e.setAttribute("autoplay",!0);var t=o.createVideoStream(e);return t.ended=function(){return!1},t},createImageStream:function(){function e(){f=!1,n.a.load(v,function(e){if(p=e,e[0].tags&&e[0].tags.orientation)switch(e[0].tags.orientation){case 6:case 8:s=e[0].img.height,c=e[0].img.width;break;default:s=e[0].img.width,c=e[0].img.height}else s=e[0].img.width,c=e[0].img.height;r=a.size?s/c>1?a.size:Math.floor(s/c*a.size):s,o=a.size?s/c>1?Math.floor(c/s*a.size):a.size:c,C.x=r,C.y=o,f=!0,u=0,setTimeout(function(){t("canrecord",[])},0)},h,l,a.sequence)}function t(e,t){var r,n=y[e];if(n&&n.length>0)for(r=0;r<n.length;r++)n[r].apply(i,t)}var r,o,i={},a=null,s=0,c=0,u=0,d=!0,f=!1,p=null,l=0,h=1,v=null,m=!1,g=["canrecord","ended"],y={},_={x:0,y:0},C={x:0,y:0};return i.trigger=t,i.getWidth=function(){return r},i.getHeight=function(){return o},i.setWidth=function(e){r=e},i.setHeight=function(e){o=e},i.getRealWidth=function(){return s},i.getRealHeight=function(){return c},i.setInputStream=function(t){a=t,!1===t.sequence?(v=t.src,l=1):(v=t.src,l=t.length),e()},i.ended=function(){return m},i.setAttribute=function(){},i.getConfig=function(){return a},i.pause=function(){d=!0},i.play=function(){d=!1},i.setCurrentTime=function(e){u=e},i.addEventListener=function(e,t){-1!==g.indexOf(e)&&(y[e]||(y[e]=[]),y[e].push(t))},i.setTopRight=function(e){_.x=e.x,_.y=e.y},i.getTopRight=function(){return _},i.setCanvasSize=function(e){C.x=e.x,C.y=e.y},i.getCanvasSize=function(){return C},i.getFrame=function(){var e;return f?(d||(e=p[u],u<l-1?u++:setTimeout(function(){m=!0,t("ended",[])},0)),e):null},i}};t.a=o},function(e,t,r){"use strict";(function(e){function n(){var t;u=c.halfSample?new C.a({x:y.size.x/2|0,y:y.size.y/2|0}):y,g=r.i(T.e)(c.patchSize,u.size),O.x=u.size.x/g.x|0,O.y=u.size.y/g.y|0,m=new C.a(u.size,void 0,Uint8Array,!1),p=new C.a(g,void 0,Array,!0),t=new ArrayBuffer(65536),f=new C.a(g,new Uint8Array(t,0,g.x*g.y)),d=new C.a(g,new Uint8Array(t,g.x*g.y*3,g.x*g.y),void 0,!0),_=r.i(E.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:g.x},t),v=new C.a({x:u.size.x/f.size.x|0,y:u.size.y/f.size.y|0},void 0,Array,!0),l=new C.a(v.size,void 0,void 0,!0),h=new C.a(v.size,void 0,Int32Array,!0)}function o(e){var t,r,n,o,i,a,s,u=m.size.x,d=m.size.y,f=-m.size.x,p=-m.size.y;for(t=0,r=0;r<e.length;r++)t+=(o=e[r]).rad;for((t=(180*(t/=e.length)/Math.PI+90)%180-90)<0&&(t+=180),t=(180-t)*Math.PI/180,i=w.copy(w.create(),[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t)]),r=0;r<e.length;r++)for(o=e[r],n=0;n<4;n++)x.transformMat2(o.box[n],o.box[n],i);for(r=0;r<e.length;r++)for(o=e[r],n=0;n<4;n++)o.box[n][0]<u&&(u=o.box[n][0]),o.box[n][0]>f&&(f=o.box[n][0]),o.box[n][1]<d&&(d=o.box[n][1]),o.box[n][1]>p&&(p=o.box[n][1]);for(a=[[u,d],[f,d],[f,p],[u,p]],s=c.halfSample?2:1,i=w.invert(i,i),n=0;n<4;n++)x.transformMat2(a[n],a[n],i);for(n=0;n<4;n++)x.scale(a[n],a[n],s);return a}function i(e){var t=r.i(T.g)(e,.9),n=r.i(T.h)(t,1,function(e){return e.getPoints().length}),o=[],i=[];if(1===n.length){o=n[0].item.getPoints();for(var a=0;a<o.length;a++)i.push(o[a].point)}return i}function a(e,t){m.subImageAsCopy(f,r.i(T.b)(e,t)),_.skeletonize()}function s(e,t,r,n){var o,a,s,c,u=[],d=[],p=Math.ceil(g.x/3);if(e.length>=2){for(o=0;o<e.length;o++)e[o].m00>p&&u.push(e[o]);if(u.length>=2){for(s=i(u),a=0,o=0;o<s.length;o++)a+=s[o].rad;s.length>1&&s.length>=u.length/4*3&&s.length>e.length/4&&(a/=s.length,c={index:t[1]*O.x+t[0],pos:{x:r,y:n},box:[x.clone([r,n]),x.clone([r+f.size.x,n]),x.clone([r+f.size.x,n+f.size.y]),x.clone([r,n+f.size.y])],moments:s,rad:a,vec:x.clone([Math.cos(a),Math.sin(a)])},d.push(c))}}return d}var c,u,d,f,p,l,h,v,m,g,y,_,C=r(20),T=r(19),S=r(3),R=(r(9),r(65)),b=r(30),E=r(66),x={clone:r(7),dot:r(32),scale:r(81),transformMat2:r(82)},w={copy:r(78),create:r(79),invert:r(80)},P={ctx:{binary:null},dom:{binary:null}},O={x:0,y:0};t.a={init:function(e,t){c=t,y=e,n(),c.useWorker||"undefined"==typeof document||(P.dom.binary=document.createElement("canvas"),P.dom.binary.className="binaryBuffer",P.ctx.binary=P.dom.binary.getContext("2d"),P.dom.binary.width=m.size.x,P.dom.binary.height=m.size.y)},locate:function(){var e,t;if(c.halfSample&&r.i(T.i)(y,u),r.i(T.f)(u,m),m.zeroBorder(),(e=function(){var e,t,r,n,o,i,c=[];for(e=0;e<O.x;e++)for(t=0;t<O.y;t++)a(r=f.size.x*e,n=f.size.y*t),d.zeroBorder(),S.a.init(p.data,0),i=R.a.create(d,p).rasterize(0),o=p.moments(i.count),c=c.concat(s(o,[e,t],r,n));return c}()).length<O.x*O.y*.05)return null;var n=function(e){function t(){var e;for(e=0;e<h.data.length;e++)if(0===h.data[e]&&1===l.data[e])return e;return h.length}function r(e){var t,n,o,s,c,u=e%h.size.x,d=e/h.size.x|0;if(e<h.data.length)for(o=v.data[e],h.data[e]=i,c=0;c<b.a.searchDirections.length;c++)n=d+b.a.searchDirections[c][0],t=u+b.a.searchDirections[c][1],s=n*h.size.x+t,0!==l.data[s]?0===h.data[s]&&Math.abs(x.dot(v.data[s].vec,o.vec))>a&&r(s):h.data[s]=Number.MAX_VALUE}var n,o,i=0,a=.95,s=0;for(S.a.init(l.data,0),S.a.init(h.data,0),S.a.init(v.data,null),n=0;n<e.length;n++)o=e[n],v.data[o.index]=o,l.data[o.index]=1;for(l.zeroBorder();(s=t())<h.data.length;)i++,r(s);return i}(e);return n<1?null:0===(t=function(e){var t,r,n=[];for(t=0;t<e;t++)n.push(0);for(r=h.data.length;r--;)h.data[r]>0&&n[h.data[r]-1]++;return(n=n.map(function(e,t){return{val:e,label:t+1}})).sort(function(e,t){return t.val-e.val}),n.filter(function(e){return e.val>=5})}(n)).length?null:function(e,t){var r,n,i,a,s=[],c=[];for(r=0;r<e.length;r++){for(n=h.data.length,s.length=0;n--;)h.data[n]===e[r].label&&(i=v.data[n],s.push(i));(a=o(s))&&c.push(a)}return c}(t)},checkImageConstraints:function(e,t){var n,o,i,a=e.getWidth(),s=e.getHeight(),c=t.halfSample?.5:1;if(e.getConfig().area&&(i=r.i(T.j)(a,s,e.getConfig().area),e.setTopRight({x:i.sx,y:i.sy}),e.setCanvasSize({x:a,y:s}),a=i.sw,s=i.sh),o={x:Math.floor(a*c),y:Math.floor(s*c)},n=r.i(T.e)(t.patchSize,o),e.setWidth(Math.floor(Math.floor(o.x/n.x)*(1/c)*n.x)),e.setHeight(Math.floor(Math.floor(o.y/n.y)*(1/c)*n.y)),e.getWidth()%n.x==0&&e.getHeight()%n.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+a+" )and height ("+s+") must a multiple of "+n.x)}}}).call(t,r(47))},function(e,t,r){"use strict";var n=r(30),o={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(e,t){var r=e.data,i=t.data,a=e.size.x,s=e.size.y,c=n.a.create(e,t);return{rasterize:function(e){var t,n,u,d,f,p,l,h,v,m,g,y,_=[],C=0;for(y=0;y<400;y++)_[y]=0;for(_[0]=r[0],v=null,p=1;p<s-1;p++)for(d=0,n=_[0],f=1;f<a-1;f++)if(0===i[g=p*a+f])if((t=r[g])!==n){if(0===d)_[u=C+1]=t,n=t,null!==(l=c.contourTracing(p,f,u,t,o.DIR.OUTSIDE_EDGE))&&(C++,d=u,(h=o.createContour2D()).dir=o.CONTOUR_DIR.CW_DIR,h.index=d,h.firstVertex=l,h.nextpeer=v,h.insideContours=null,null!==v&&(v.prevpeer=h),v=h);else if(null!==(l=c.contourTracing(p,f,o.DIR.INSIDE_EDGE,t,d))){for((h=o.createContour2D()).firstVertex=l,h.insideContours=null,h.dir=0===e?o.CONTOUR_DIR.CCW_DIR:o.CONTOUR_DIR.CW_DIR,h.index=e,m=v;null!==m&&m.index!==d;)m=m.nextpeer;null!==m&&(h.nextpeer=m.insideContours,null!==m.insideContours&&(m.insideContours.prevpeer=h),m.insideContours=h)}}else i[g]=d;else i[g]===o.DIR.OUTSIDE_EDGE||i[g]===o.DIR.INSIDE_EDGE?(d=0,n=i[g]===o.DIR.INSIDE_EDGE?r[g]:_[0]):n=_[d=i[g]];for(m=v;null!==m;)m.index=e,m=m.nextpeer;return{cc:v,count:C}},debug:{drawContour:function(e,t){var r,n,i,a=e.getContext("2d"),s=t;for(a.strokeStyle="red",a.fillStyle="red",a.lineWidth=1,r=null!==s?s.insideContours:null;null!==s;){switch(null!==r?(n=r,r=r.nextpeer):(n=s,r=null!==(s=s.nextpeer)?s.insideContours:null),n.dir){case o.CONTOUR_DIR.CW_DIR:a.strokeStyle="red";break;case o.CONTOUR_DIR.CCW_DIR:a.strokeStyle="blue";break;case o.CONTOUR_DIR.UNKNOWN_DIR:a.strokeStyle="green"}i=n.firstVertex,a.beginPath(),a.moveTo(i.x,i.y);do{i=i.next,a.lineTo(i.x,i.y)}while(i!==n.firstVertex);a.stroke()}}}}}};t.a=o},function(e,t,r){"use strict";t.a=function(e,t,r){"use asm";var n=new e.Uint8Array(r),o=t.size|0,i=e.Math.imul;function a(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,c=0,u=0,d=0,f=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;d=i+1|0;a=(n[e+s+u|0]|0)+(n[e+s+d|0]|0)+(n[e+f+i|0]|0)+(n[e+c+u|0]|0)+(n[e+c+d|0]|0)|0;if((a|0)==(5|0)){n[t+f+i|0]=1}else{n[t+f+i|0]=0}}}return}function s(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=(n[e+a|0]|0)-(n[t+a|0]|0)|0}}function c(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=n[e+a|0]|0|(n[t+a|0]|0)|0}}function u(e){e=e|0;var t=0,r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;t=(t|0)+(n[e+r|0]|0)|0}return t|0}function d(e,t){e=e|0;t=t|0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[e+r|0]=t}}function f(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,c=0,u=0,d=0,f=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;d=i+1|0;a=(n[e+s+u|0]|0)+(n[e+s+d|0]|0)+(n[e+f+i|0]|0)+(n[e+c+u|0]|0)+(n[e+c+d|0]|0)|0;if((a|0)>(0|0)){n[t+f+i|0]=1}else{n[t+f+i|0]=0}}}return}function p(e,t){e=e|0;t=t|0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[t+r|0]=n[e+r|0]|0}}function l(e){e=e|0;var t=0,r=0;for(t=0;(t|0)<(o-1|0);t=t+1|0){n[e+t|0]=0;n[e+r|0]=0;r=r+o-1|0;n[e+r|0]=0;r=r+1|0}for(t=0;(t|0)<(o|0);t=t+1|0){n[e+r|0]=0;r=r+1|0}}function h(){var e=0,t=0,r=0,n=0,h=0,v=0;t=i(o,o)|0;r=t+t|0;n=r+t|0;d(n,0);l(e);do{a(e,t);f(t,r);s(e,r,r);c(n,r,n);p(t,e);h=u(e)|0;v=(h|0)==0|0}while(!v)}return{skeletonize:h}}},function(e,t,r){"use strict";function n(e){o.a.call(this,e),this.barSpaceRatio=[1,1]}var o=r(1),i={START_PATTERN:{value:[3,1,3,1,1,1]},STOP_PATTERN:{value:[3,1,1,1,3]},CODE_PATTERN:{value:[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},a=i.START_PATTERN.value.reduce(function(e,t){return e+t},0);n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype._findPattern=function(e,t,r,n){var o,i,a,s,c=[],u=this,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0},p=u.AVG_CODE_ERROR;for(r=r||!1,n=n||!1,t||(t=u._nextSet(u._row)),o=0;o<e.length;o++)c[o]=0;for(o=t;o<u._row.length;o++)if(u._row[o]^r)c[d]++;else{if(d===c.length-1){for(s=0,a=0;a<c.length;a++)s+=c[a];if((i=u._matchPattern(c,e))<p)return f.error=i,f.start=o-s,f.end=o,f;if(!n)return null;for(a=0;a<c.length-2;a++)c[a]=c[a+2];c[c.length-2]=0,c[c.length-1]=0,d--}else d++;c[d]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row),o=1;!t;){if(!(t=r._findPattern(r.START_PATTERN,n,!1,!0)))return null;if(o=Math.floor((t.end-t.start)/a),(e=t.start-5*o)>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t;return(t=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(){var e,t,r,n=this;return n._row.reverse(),r=n._nextSet(n._row),e=n._findPattern(n.STOP_PATTERN,r,!1,!0),n._row.reverse(),null===e?null:(t=e.start,e.start=n._row.length-e.end,e.end=n._row.length-t,null!==e?n._verifyTrailingWhitespace(e):null)},n.prototype._decodeCode=function(e){var t,r,n,o=this,i=o.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t=0;t<e.length;t++)e[t];for(n=0;n<o.CODE_PATTERN.length;n++)(r=o._matchPattern(e,o.CODE_PATTERN[n]))<a.error&&(a.code=n,a.error=r);if(a.error<i)return a},n.prototype._decodePayload=function(e,t,r){for(var n,o,i=0,a=e.length,s=[0,0,0,0,0];i<a;){for(n=0;n<5;n++)s[n]=e[i]*this.barSpaceRatio[0],i+=2;if(!(o=this._decodeCode(s)))return null;t.push(o.code+""),r.push(o)}return o},n.prototype._verifyCounterLength=function(e){return e.length%10==0},n.prototype._decode=function(){var e,t,r,n=this,o=[],i=[];return(e=n._findStart())?(i.push(e),(t=n._findEnd())?(r=n._fillCounters(e.end,t.start,!1),n._verifyCounterLength(r)&&n._decodePayload(r,o,i)?o.length<5?null:(i.push(t),{code:o.join(""),start:e.start,end:t.end,startInfo:e,decodedCodes:i}):null):null):null},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this),this._counters=[]}var o=r(1);n.prototype=Object.create(o.a.prototype,{ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}}),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o,i=this,a=[];if(this._counters=i._fillCounters(),!(e=i._findStart()))return null;n=e.startCounter;do{if((r=i._toPattern(n))<0)return null;if((t=i._patternToChar(r))<0)return null;if(a.push(t),n+=8,a.length>1&&i._isStartEnd(r))break}while(n<i._counters.length);return a.length-2<i.MIN_ENCODED_CHARS||!i._isStartEnd(r)?null:i._verifyWhitespace(e.startCounter,n-8)&&i._validateResult(a,e.startCounter)?(n=n>i._counters.length?i._counters.length:n,o=e.start+i._sumCounters(e.startCounter,n-8),{code:a.join(""),start:e.start,end:o,startInfo:e,decodedCodes:a}):null},n.prototype._verifyWhitespace=function(e,t){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(t+8>=this._counters.length||this._counters[t+7]>=this._calculatePatternLength(t)/2)},n.prototype._calculatePatternLength=function(e){var t,r=0;for(t=e;t<e+7;t++)r+=this._counters[t];return r},n.prototype._thresholdResultPattern=function(e,t){var r,n,o,i,a,s=this,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},u=t;for(o=0;o<e.length;o++){for(a=s._charToPattern(e[o]),i=6;i>=0;i--)r=2==(1&i)?c.bar:c.space,(n=1==(1&a)?r.wide:r.narrow).size+=s._counters[u+i],n.counts++,a>>=1;u+=8}return["space","bar"].forEach(function(e){var t=c[e];t.wide.min=Math.floor((t.narrow.size/t.narrow.counts+t.wide.size/t.wide.counts)/2),t.narrow.max=Math.ceil(t.wide.min),t.wide.max=Math.ceil((t.wide.size*s.MAX_ACCEPTABLE+s.PADDING)/t.wide.counts)}),c},n.prototype._charToPattern=function(e){var t,r=this,n=e.charCodeAt(0);for(t=0;t<r.ALPHABET.length;t++)if(r.ALPHABET[t]===n)return r.CHARACTER_ENCODINGS[t];return 0},n.prototype._validateResult=function(e,t){var r,n,o,i,a,s,c=this,u=c._thresholdResultPattern(e,t),d=t;for(r=0;r<e.length;r++){for(s=c._charToPattern(e[r]),n=6;n>=0;n--){if(o=0==(1&n)?u.bar:u.space,i=1==(1&s)?o.wide:o.narrow,(a=c._counters[d+n])<i.min||a>i.max)return!1;s>>=1}d+=8}return!0},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._computeAlternatingThreshold=function(e,t){var r,n,o=Number.MAX_VALUE,i=0;for(r=e;r<t;r+=2)(n=this._counters[r])>i&&(i=n),n<o&&(o=n);return(o+i)/2|0},n.prototype._toPattern=function(e){var t,r,n,o,i=e+7,a=64,s=0;if(i>this._counters.length)return-1;for(t=this._computeAlternatingThreshold(e,i),r=this._computeAlternatingThreshold(e+1,i),n=0;n<7;n++)o=0==(1&n)?t:r,this._counters[e+n]>o&&(s|=a),a>>=1;return s},n.prototype._isStartEnd=function(e){var t;for(t=0;t<this.START_END.length;t++)if(this.START_END[t]===e)return!0;return!1},n.prototype._sumCounters=function(e,t){var r,n=0;for(r=e;r<t;r++)n+=this._counters[r];return n},n.prototype._findStart=function(){var e,t,r=this,n=r._nextUnset(r._row);for(e=1;e<this._counters.length;e++)if(-1!==(t=r._toPattern(e))&&r._isStartEnd(t))return{start:n+=r._sumCounters(0,e),end:n+r._sumCounters(e,e+8),startCounter:e,endCounter:e+8}},t.a=n},function(e,t,r){"use strict";function n(){i.a.call(this)}function o(e,t,r){for(var n=r.length,o=0,i=0;n--;)i+=e[r[n]],o+=t[r[n]];return i/o}var i=r(1);n.prototype=Object.create(i.a.prototype,{CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}}),n.prototype.constructor=n,n.prototype._decodeCode=function(e,t){var r,n,i,a=[0,0,0,0,0,0],s=this,c=e,u=!s._row[c],d=0,f={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}};for(r=c;r<s._row.length;r++)if(s._row[r]^u)a[d]++;else{if(d===a.length-1){for(t&&s._correct(a,t),n=0;n<s.CODE_PATTERN.length;n++)(i=s._matchPattern(a,s.CODE_PATTERN[n]))<f.error&&(f.code=n,f.error=i);return f.end=r,-1===f.code||f.error>s.AVG_CODE_ERROR?null:(s.CODE_PATTERN[f.code]&&(f.correction.bar=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.bar),f.correction.space=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.space)),f)}a[++d]=1,u=!u}return null},n.prototype._correct=function(e,t){this._correctBars(e,t.bar,this.MODULE_INDICES.bar),this._correctBars(e,t.space,this.MODULE_INDICES.space)},n.prototype._findStart=function(){var e,t,r,n,i,a=[0,0,0,0,0,0],s=this,c=s._nextSet(s._row),u=!1,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(e=c;e<s._row.length;e++)if(s._row[e]^u)a[d]++;else{if(d===a.length-1){for(i=0,n=0;n<a.length;n++)i+=a[n];for(t=s.START_CODE_A;t<=s.START_CODE_C;t++)(r=s._matchPattern(a,s.CODE_PATTERN[t]))<f.error&&(f.code=t,f.error=r);if(f.error<s.AVG_CODE_ERROR)return f.start=e-i,f.end=e,f.correction.bar=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.bar),f.correction.space=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.space),f;for(n=0;n<4;n++)a[n]=a[n+2];a[4]=0,a[5]=0,d--}else d++;a[d]=1,u=!u}return null},n.prototype._decode=function(){var e,t,r=this,n=r._findStart(),o=null,i=!1,a=[],s=0,c=0,u=[],d=[],f=!1,p=!0;if(null===n)return null;switch(o={code:n.code,start:n.start,end:n.end,correction:{bar:n.correction.bar,space:n.correction.space}},d.push(o),c=o.code,o.code){case r.START_CODE_A:e=r.CODE_A;break;case r.START_CODE_B:e=r.CODE_B;break;case r.START_CODE_C:e=r.CODE_C;break;default:return null}for(;!i;){if(t=f,f=!1,null!==(o=r._decodeCode(o.end,o.correction)))switch(o.code!==r.STOP_CODE&&(p=!0),o.code!==r.STOP_CODE&&(u.push(o.code),s++,c+=s*o.code),d.push(o),e){case r.CODE_A:if(o.code<64)a.push(String.fromCharCode(32+o.code));else if(o.code<96)a.push(String.fromCharCode(o.code-64));else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_SHIFT:f=!0,e=r.CODE_B;break;case r.CODE_B:e=r.CODE_B;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:i=!0}break;case r.CODE_B:if(o.code<96)a.push(String.fromCharCode(32+o.code));else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_SHIFT:f=!0,e=r.CODE_A;break;case r.CODE_A:e=r.CODE_A;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:i=!0}break;case r.CODE_C:if(o.code<100)a.push(o.code<10?"0"+o.code:o.code);else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_A:e=r.CODE_A;break;case r.CODE_B:e=r.CODE_B;break;case r.STOP_CODE:i=!0}}else i=!0;t&&(e=e===r.CODE_A?r.CODE_B:r.CODE_A)}return null===o?null:(o.end=r._nextUnset(r._row,o.end),r._verifyTrailingWhitespace(o)?(c-=s*u[u.length-1])%103!==u[u.length-1]?null:a.length?(p&&a.splice(a.length-1,1),{code:a.join(""),start:n.start,end:o.end,codeset:e,startInfo:n,decodedCodes:d,endInfo:o}):null:null)},i.a.prototype._verifyTrailingWhitespace=function(e){var t;return(t=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,t,0)?e:null},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(31),i=/[IOQ]/g,a=/[A-Z0-9]{17}/;n.prototype=Object.create(o.a.prototype),n.prototype.constructor=n,n.prototype._decode=function(){var e=o.a.prototype._decode.apply(this);if(!e)return null;var t=e.code;return t?(t=t.replace(i,"")).match(a)&&this._checkChecksum(t)?(e.code=t,e):null:null},n.prototype._checkChecksum=function(e){return!!e},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(1),i=r(3),a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",s={ALPHABETH_STRING:{value:a},ALPHABET:{value:a.split("").map(function(e){return e.charCodeAt(0)})},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};n.prototype=Object.create(o.a.prototype,s),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o=this,a=[0,0,0,0,0,0],s=[],c=o._findStart();if(!c)return null;n=o._nextSet(o._row,c.end);do{if(a=o._toCounters(n,a),(r=o._toPattern(a))<0)return null;if((e=o._patternToChar(r))<0)return null;s.push(e),t=n,n+=i.a.sum(a),n=o._nextSet(o._row,n)}while("*"!==e);return s.pop(),s.length&&o._verifyEnd(t,n,a)&&o._verifyChecksums(s)?(s=s.slice(0,s.length-2),null===(s=o._decodeExtended(s))?null:{code:s.join(""),start:c.start,end:n,startInfo:c,decodedCodes:s}):null},n.prototype._verifyEnd=function(e,t){return!(e===t||!this._row[t])},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._toPattern=function(e){for(var t=e.length,r=0,n=0,o=0;o<t;o++)n+=e[o];for(var i=0;i<t;i++){var a=Math.round(9*e[i]/n);if(a<1||a>4)return-1;if(0==(1&i))for(var s=0;s<a;s++)r=r<<1|1;else r<<=a}return r},n.prototype._findStart=function(){var e,t,r,n=this,o=n._nextSet(n._row),i=o,a=[0,0,0,0,0,0],s=0,c=!1;for(e=o;e<n._row.length;e++)if(n._row[e]^c)a[s]++;else{if(s===a.length-1){if(n._toPattern(a)===n.ASTERISK&&(r=Math.floor(Math.max(0,i-(e-i)/4)),n._matchRange(r,i,0)))return{start:i,end:e};for(i+=a[0]+a[1],t=0;t<4;t++)a[t]=a[t+2];a[4]=0,a[5]=0,s--}else s++;a[s]=1,c=!c}return null},n.prototype._decodeExtended=function(e){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];if(o>="a"&&o<="d"){if(n>t-2)return null;var i=e[++n],a=i.charCodeAt(0),s=void 0;switch(o){case"a":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a-64);break;case"b":if(i>="A"&&i<="E")s=String.fromCharCode(a-38);else if(i>="F"&&i<="J")s=String.fromCharCode(a-11);else if(i>="K"&&i<="O")s=String.fromCharCode(a+16);else if(i>="P"&&i<="S")s=String.fromCharCode(a+43);else{if(!(i>="T"&&i<="Z"))return null;s=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")s=String.fromCharCode(a-32);else{if("Z"!==i)return null;s=":"}break;case"d":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a+32)}r.push(s)}else r.push(o)}return r},n.prototype._verifyChecksums=function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)},n.prototype._matchCheckChar=function(e,t,r){var n=this,o=e.slice(0,t),i=o.length,a=o.reduce(function(e,t,o){return e+((-1*o+(i-1))%r+1)*n.ALPHABET.indexOf(t.charCodeAt(0))},0);return this.ALPHABET[a%47]===e[t].charCodeAt(0)},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(4);n.prototype=Object.create(o.a.prototype,{FORMAT:{value:"ean_2",writeable:!1}}),n.prototype.constructor=n,n.prototype.decode=function(e,t){this._row=e;var r,n=0,o=0,i=t,a=this._row.length,s=[],c=[];for(o=0;o<2&&i<a;o++){if(!(r=this._decodeCode(i)))return null;c.push(r),s.push(r.code%10),r.code>=this.CODE_G_START&&(n|=1<<1-o),1!=o&&(i=this._nextSet(this._row,r.end),i=this._nextUnset(this._row,i))}return 2!=s.length||parseInt(s.join(""))%4!==n?null:{code:s.join(""),decodedCodes:c,end:r.end}},t.a=n},function(e,t,r){"use strict";function n(){i.a.call(this)}function o(e){var t;for(t=0;t<10;t++)if(e===a[t])return t;return null}var i=r(4),a=[24,20,18,17,12,6,3,10,9,5];n.prototype=Object.create(i.a.prototype,{FORMAT:{value:"ean_5",writeable:!1}}),n.prototype.constructor=n,n.prototype.decode=function(e,t){this._row=e;var r,n=0,i=0,a=t,s=this._row.length,c=[],u=[];for(i=0;i<5&&a<s;i++){if(!(r=this._decodeCode(a)))return null;u.push(r),c.push(r.code%10),r.code>=this.CODE_G_START&&(n|=1<<4-i),4!=i&&(a=this._nextSet(this._row,r.end),a=this._nextUnset(this._row,a))}return 5!=c.length?null:function(e){var t,r=e.length,n=0;for(t=r-2;t>=0;t-=2)n+=e[t];for(n*=3,t=r-1;t>=0;t-=2)n+=e[t];return(n*=3)%10}(c)!==o(n)?null:{code:c.join(""),decodedCodes:u,end:r.end}},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4);n.prototype=Object.create(o.a.prototype,{FORMAT:{value:"ean_8",writeable:!1}}),n.prototype.constructor=n,n.prototype._decodePayload=function(e,t,r){var n,o=this;for(n=0;n<4;n++){if(!(e=o._decodeCode(e.end,o.CODE_G_START)))return null;t.push(e.code),r.push(e)}if(null===(e=o._findPattern(o.MIDDLE_PATTERN,e.end,!0,!1)))return null;for(r.push(e),n=0;n<4;n++){if(!(e=o._decodeCode(e.end,o.CODE_G_START)))return null;r.push(e),t.push(e.code)}return e},t.a=n},function(e,t,r){"use strict";function n(e){e=i()(function(){var e={};return Object.keys(n.CONFIG_KEYS).forEach(function(t){e[t]=n.CONFIG_KEYS[t].default}),e}(),e),a.a.call(this,e),this.barSpaceRatio=[1,1],e.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}var o=r(28),i=r.n(o),a=r(1),s={START_PATTERN:{value:[1,1,1,1]},STOP_PATTERN:{value:[1,1,3]},CODE_PATTERN:{value:[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};n.prototype=Object.create(a.a.prototype,s),n.prototype.constructor=n,n.prototype._matchPattern=function(e,t){if(this.config.normalizeBarSpaceWidth){var r,n=[0,0],o=[0,0],i=[0,0],s=this.MAX_CORRECTION_FACTOR,c=1/s;for(r=0;r<e.length;r++)n[r%2]+=e[r],o[r%2]+=t[r];for(i[0]=o[0]/n[0],i[1]=o[1]/n[1],i[0]=Math.max(Math.min(i[0],s),c),i[1]=Math.max(Math.min(i[1],s),c),this.barSpaceRatio=i,r=0;r<e.length;r++)e[r]*=this.barSpaceRatio[r%2]}return a.a.prototype._matchPattern.call(this,e,t)},n.prototype._findPattern=function(e,t,r,n){var o,i,a,s,c=[],u=this,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0},p=u.AVG_CODE_ERROR;for(r=r||!1,n=n||!1,t||(t=u._nextSet(u._row)),o=0;o<e.length;o++)c[o]=0;for(o=t;o<u._row.length;o++)if(u._row[o]^r)c[d]++;else{if(d===c.length-1){for(s=0,a=0;a<c.length;a++)s+=c[a];if((i=u._matchPattern(c,e))<p)return f.error=i,f.start=o-s,f.end=o,f;if(!n)return null;for(a=0;a<c.length-2;a++)c[a]=c[a+2];c[c.length-2]=0,c[c.length-1]=0,d--}else d++;c[d]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row),o=1;!t;){if(!(t=r._findPattern(r.START_PATTERN,n,!1,!0)))return null;if(o=Math.floor((t.end-t.start)/4),(e=t.start-10*o)>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t;return(t=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(){var e,t,r=this;return r._row.reverse(),e=r._findPattern(r.STOP_PATTERN),r._row.reverse(),null===e?null:(t=e.start,e.start=r._row.length-e.end,e.end=r._row.length-t,null!==e?r._verifyTrailingWhitespace(e):null)},n.prototype._decodePair=function(e){var t,r,n=[];for(t=0;t<e.length;t++){if(!(r=this._decodeCode(e[t])))return null;n.push(r)}return n},n.prototype._decodeCode=function(e){var t,r,n,o=this,i=o.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t=0;t<e.length;t++)e[t];for(n=0;n<o.CODE_PATTERN.length;n++)(r=o._matchPattern(e,o.CODE_PATTERN[n]))<a.error&&(a.code=n,a.error=r);if(a.error<i)return a},n.prototype._decodePayload=function(e,t,r){for(var n,o,i=0,a=e.length,s=[[0,0,0,0,0],[0,0,0,0,0]];i<a;){for(n=0;n<5;n++)s[0][n]=e[i]*this.barSpaceRatio[0],s[1][n]=e[i+1]*this.barSpaceRatio[1],i+=2;if(!(o=this._decodePair(s)))return null;for(n=0;n<o.length;n++)t.push(o[n].code+""),r.push(o[n])}return o},n.prototype._verifyCounterLength=function(e){return e.length%10==0},n.prototype._decode=function(){var e,t,r,n=this,o=[],i=[];return(e=n._findStart())?(i.push(e),(t=n._findEnd())?(r=n._fillCounters(e.end,t.start,!1),n._verifyCounterLength(r)&&n._decodePayload(r,o,i)?o.length%2!=0||o.length<6?null:(i.push(t),{code:o.join(""),start:e.start,end:t.end,startInfo:e,decodedCodes:i}):null):null):null},n.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4);n.prototype=Object.create(o.a.prototype,{CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}}),n.prototype.constructor=n,n.prototype._decodePayload=function(e,t,r){var n,o=this,i=0;for(n=0;n<6;n++){if(!(e=o._decodeCode(e.end)))return null;e.code>=o.CODE_G_START&&(e.code=e.code-o.CODE_G_START,i|=1<<5-n),t.push(e.code),r.push(e)}return o._determineParity(i,t)?e:null},n.prototype._determineParity=function(e,t){var r,n;for(n=0;n<this.CODE_FREQUENCY.length;n++)for(r=0;r<this.CODE_FREQUENCY[n].length;r++)if(e===this.CODE_FREQUENCY[n][r])return t.unshift(n),t.push(r),!0;return!1},n.prototype._convertToUPCA=function(e){var t=[e[0]],r=e[e.length-2];return(t=r<=2?t.concat(e.slice(1,3)).concat([r,0,0,0,0]).concat(e.slice(3,6)):3===r?t.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):4===r?t.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):t.concat(e.slice(1,6)).concat([0,0,0,0,r])).push(e[e.length-1]),t},n.prototype._checksum=function(e){return o.a.prototype._checksum.call(this,this._convertToUPCA(e))},n.prototype._findEnd=function(e,t){return!0,o.a.prototype._findEnd.call(this,e,!0)},n.prototype._verifyTrailingWhitespace=function(e){var t;if((t=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,t,0))return e},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4);n.prototype=Object.create(o.a.prototype,{FORMAT:{value:"upc_a",writeable:!1}}),n.prototype.constructor=n,n.prototype._decode=function(){var e=o.a.prototype._decode.call(this);return e&&e.code&&13===e.code.length&&"0"===e.code.charAt(0)?(e.code=e.code.substring(1),e):null},t.a=n},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},function(e,t){e.exports=function(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}},function(e,t){e.exports=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r*i-o*n;return a?(a=1/a,e[0]=i*a,e[1]=-n*a,e[2]=-o*a,e[3]=r*a,e):null}},function(e,t){e.exports=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}},function(e,t){e.exports=function(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o,e[1]=r[1]*n+r[3]*o,e}},function(e,t){e.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(122),i=r(123),a=r(124),s=r(125),c=r(126);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=r(10),i=r(149),a=r(150),s=r(151),c=r(152),u=r(153);n.prototype.clear=i,n.prototype.delete=a,n.prototype.get=s,n.prototype.has=c,n.prototype.set=u,e.exports=n},function(e,t,r){var n=r(5).Uint8Array;e.exports=n},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(107),o=r(18),i=r(2),a=r(44),s=r(15),c=r(45),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),d=!r&&o(e),f=!r&&!d&&a(e),p=!r&&!d&&!f&&c(e),l=r||d||f||p,h=l?n(e.length,String):[],v=h.length;for(var m in e)!t&&!u.call(e,m)||l&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){var n=r(0),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t,r){var n=r(90),o=r(128);e.exports=function e(t,r,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var d=t[c];r>0&&i(d)?r>1?e(d,r-1,i,a,s):n(s,d):a||(s[s.length]=d)}return s}},function(e,t,r){var n=r(117)();e.exports=n},function(e,t,r){var n=r(13),o=r(23);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(8),o=r(6),i="[object Arguments]";e.exports=function(e){return o(e)&&n(e)==i}},function(e,t,r){var n=r(25),o=r(132),i=r(0),a=r(155),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?p:s).test(a(e))}},function(e,t,r){var n=r(8),o=r(26),i=r(6),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(0),o=r(40),i=r(144),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},function(e,t,r){var n=r(85),o=r(35),i=r(93),a=r(101),s=r(0),c=r(46);e.exports=function e(t,r,u,d,f){t!==r&&i(r,function(i,c){if(s(i))f||(f=new n),a(t,r,c,u,e,d,f);else{var p=d?d(t[c],i,c+"",t,r,f):void 0;void 0===p&&(p=i),o(t,c,p)}},c)}},function(e,t,r){var n=r(35),o=r(111),i=r(112),a=r(113),s=r(127),c=r(18),u=r(2),d=r(159),f=r(44),p=r(25),l=r(0),h=r(160),v=r(45),m=r(164);e.exports=function(e,t,r,g,y,_,C){var T=e[r],S=t[r],R=C.get(S);if(R)n(e,r,R);else{var b=_?_(T,S,r+"",e,t,C):void 0,E=void 0===b;if(E){var x=u(S),w=!x&&f(S),P=!x&&!w&&v(S);b=S,x||w||P?u(T)?b=T:d(T)?b=a(T):w?(E=!1,b=o(S,!0)):P?(E=!1,b=i(S,!0)):b=[]:h(S)||c(S)?(b=T,c(T)?b=m(T):(!l(T)||g&&p(T))&&(b=s(S))):E=!1}E&&(C.set(S,b),y(b,S,g,_,C),C.delete(S)),n(e,r,b)}}},function(e,t,r){var n=r(103),o=r(158);e.exports=function(e,t){return n(e,t,function(t,r){return o(e,r)})}},function(e,t,r){var n=r(94),o=r(105),i=r(13);e.exports=function(e,t,r){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],d=n(e,u);r(d,u)&&o(c,i(u,e),d)}return c}},function(e,t,r){var n=r(43),o=r(41),i=r(42);e.exports=function(e,t){return i(o(e,t,n),e+"")}},function(e,t,r){var n=r(36),o=r(13),i=r(15),a=r(0),s=r(23);e.exports=function(e,t,r,c){if(!a(e))return e;for(var u=-1,d=(t=o(t,e)).length,f=d-1,p=e;null!=p&&++u<d;){var l=s(t[u]),h=r;if(u!=f){var v=p[l];void 0===(h=c?c(v,l,p):void 0)&&(h=a(v)?v:i(t[u+1])?[]:{})}n(p,l,h),p=p[l]}return e}},function(e,t,r){var n=r(156),o=r(37),i=r(43),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(11),o=r(89),i=r(2),a=r(27),s=1/0,c=n?n.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){var n=r(86);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){(function(e){var n=r(5),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(t,r(29)(e))},function(e,t,r){var n=r(110);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(36),o=r(21);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],d=i?i(r[u],e[u],u,r,e):void 0;void 0===d&&(d=e[u]),a?o(r,u,d):n(r,u,d)}return r}},function(e,t,r){var n=r(5)["__core-js_shared__"];e.exports=n},function(e,t,r){var n=r(104),o=r(129);e.exports=function(e){return n(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var c=r[n];c&&e(t,c,n,a)}return t})}},function(e,t){e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===r(i[c],c,i))break}return t}}},function(e,t,r){var n=r(157),o=r(41),i=r(42);e.exports=function(e){return i(o(e,void 0,n),e+"")}},function(e,t,r){var n=r(11),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(13),o=r(18),i=r(2),a=r(15),s=r(26),c=r(23);e.exports=function(e,t,r){for(var u=-1,d=(t=n(t,e)).length,f=!1;++u<d;){var p=c(t[u]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++u!=d?f:!!(d=null==e?0:e.length)&&s(d)&&a(p,d)&&(i(e)||o(e))}},function(e,t,r){var n=r(16);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(16),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===o?void 0:r}return i.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(16),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(16),o="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?o:t,this}},function(e,t,r){var n=r(91),o=r(39),i=r(40);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},function(e,t,r){var n=r(11),o=r(18),i=r(2),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,r){var n=r(17),o=r(24),i=r(15),a=r(0);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?o(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e,t,r){var n=r(2),o=r(27),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(115),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(12),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},function(e,t,r){var n=r(12);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(12);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(12);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(84),o=r(10),i=r(33);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(14);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(14);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t,r){var n=r(161),o=500;e.exports=function(e){var t=n(e,function(e){return r.size===o&&r.clear(),e}),r=t.cache;return t}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){(function(e){var n=r(38),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(t,r(29)(e))},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t){var r=800,n=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=n-(a-i);if(i=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(10);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(10),o=r(33),i=r(34),a=200;e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(143),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=n(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(i,function(e,r,n,o){t.push(n?o.replace(a,"$1"):r||e)}),t});e.exports=s},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,r){var n=r(92);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},function(e,t,r){var n=r(95),o=r(121);e.exports=function(e,t){return null!=e&&o(e,t,n)}},function(e,t,r){var n=r(24),o=r(6);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){var n=r(8),o=r(39),i=r(6),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,d=c.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!i(e)||n(e)!=a)return!1;var t=o(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f}},function(e,t,r){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(n.Cache||o),r}var o=r(34),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){var n=r(102),o=r(118)(function(e,t){return null==e?{}:n(e,t)});e.exports=o},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(114),o=r(46);e.exports=function(e){return n(e,o(e))}},function(e,t,r){var n=r(108);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){e.exports=r(48)}])},e.exports=n(n.toString()).default},function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<n.length;o++)r[(t=n[o].trim().split("="))[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},n.getIceParameters=function(e,t){var r=n.splitLines(e);return{usernameFragment:(r=r.concat(n.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e)[0].split(" "),o=3;o<r.length;o++){var i=r[o],a=n.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=n.parseRtpMap(a),c=n.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=c.length?n.parseFmtp(c[0]):{},s.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(n.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)});var o=0;return t.codecs.forEach(function(e){e.maxptime>o&&(o=e.maxptime)}),o>0&&(r+="a=maxptime:"+o+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){r+=n.writeExtmap(e)}),r},n.parseRtpEncodingParameters=function(e){var t,r=[],o=n.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,u=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),o.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),i&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&c&&r.push({ssrc:c});var d=n.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach(function(e){e.maxBitrate=d})),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var o=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=o.length>0,t.compound=0===o.length;var i=n.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var o=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return o.length>0?{stream:(t=o[0].value.split(" "))[0],track:t[1]}:void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t,r){var o=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||n.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,o){var i=n.writeRtpDescription(e.kind,t);if(i+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),i},n.getDirection=function(e,t){for(var r=n.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},n.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},e.exports=n},function(e,t,r){var n=r(5);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(8).default)("b437ebe2",n,!1,{})},function(e,t,r){"use strict";var n=r(1);function o(e,t,r,o,i){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(o?o.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function i(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},o=function(e,t,r,o){var i=n(e.parameters.apt,r),a=n(t.parameters.apt,o);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(n){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!o(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var o=t.headerExtensions[n];if(e.uri===o.uri){r.headerExtensions.push(o);break}}}),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function c(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r,n,o){var i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=o,e.setTimeout(function(){t._dispatchEvent("track",i)})}var d=function(r){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){o[e]=i[e].bind(i)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof n;return o&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=o?n[0]:n,!!n.length}})}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(d.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(d.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),d.prototype.onicecandidate=null,d.prototype.onaddstream=null,d.prototype.ontrack=null,d.prototype.onremovestream=null,d.prototype.onsignalingstatechange=null,d.prototype.oniceconnectionstatechange=null,d.prototype.onconnectionstatechange=null,d.prototype.onicegatheringstatechange=null,d.prototype.onnegotiationneeded=null,d.prototype.ondatachannel=null,d.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},d.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},d.prototype.getConfiguration=function(){return this._config},d.prototype.getLocalStreams=function(){return this.localStreams},d.prototype.getRemoteStreams=function(){return this.remoteStreams},d.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();n.iceTransport=o.iceTransport,n.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(n),n},d.prototype.addTrack=function(t,r){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(e){return e.track===t}))throw c("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(n=this.transceivers[o]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},d.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach(function(t){r.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",function(e){r.enabled=e.enabled})}),n.getTracks().forEach(function(e){r.addTrack(e,n)})}},d.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find(function(e){return e.rtpSender===t});if(!r)throw c("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},d.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},d.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},d.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},d.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;o.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},d.prototype._gather=function(t,r){var o=this,i=this.transceivers[r].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),s.component=1,s.ufrag=i.getLocalParameters().usernameFragment;var u=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=n.getMediaSections(o._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",o._localDescription.sdp=n.getDescription(o._localDescription.sdp)+d.join("");var f=o.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),c||o._dispatchEvent("icecandidate",a),f&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){i.onlocalcandidate(e)})},0)}},d.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},d.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},d.prototype._transceive=function(e,r,o){var a=i(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),o&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},d.prototype.setLocalDescription=function(e){var t,r,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=n.parseRtpParameters(e);o.transceivers[t].localCapabilities=r}),o.transceivers.forEach(function(e,t){o._gather(e.mid,t)});else if("answer"===e.type){t=n.splitSections(o._remoteDescription.sdp),r=t.shift();var s=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach(function(e,t){var a=o.transceivers[t],c=a.iceGatherer,u=a.iceTransport,d=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var l=n.getIceParameters(e,r),h=n.getDtlsParameters(e,r);s&&(h.role="server"),o.usingBundle&&0!==t||(o._gather(a.mid,t),"new"===u.state&&u.start(c,l,s?"controlling":"controlled"),"new"===d.state&&d.start(h));var v=i(f,p);o._transceive(a,v.codecs.length>0,!1)}})}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},d.prototype.setRemoteDescription=function(o){var d=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(c("TypeError",'Unsupported type "'+o.type+'"'));if(!a("setRemoteDescription",o.type,d.signalingState)||d._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+o.type+" in state "+d.signalingState));var f={};d.remoteStreams.forEach(function(e){f[e.id]=e});var p=[],l=n.splitSections(o.sdp),h=l.shift(),v=n.matchPrefix(h,"a=ice-lite").length>0,m=n.matchPrefix(h,"a=group:BUNDLE ").length>0;d.usingBundle=m;var g=n.matchPrefix(h,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,l.forEach(function(a,c){var u=n.splitLines(a),l=n.getKind(a),g=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],_=n.getDirection(a,h),C=n.parseMsid(a),T=n.getMid(a)||n.generateIdentifier();if(g||"application"===l&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))d.transceivers[c]={mid:T,kind:l,protocol:y,rejected:!0};else{var S,R,b,E,x,w,P,O,D;!g&&d.transceivers[c]&&d.transceivers[c].rejected&&(d.transceivers[c]=d._createTransceiver(l,!0));var A,k,M=n.parseRtpParameters(a);g||(A=n.getIceParameters(a,h),(k=n.getDtlsParameters(a,h)).role="client"),P=n.parseRtpEncodingParameters(a);var I=n.parseRtcpParameters(a),j=n.matchPrefix(a,"a=end-of-candidates",h).length>0,N=n.matchPrefix(a,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===o.type||"answer"===o.type)&&!g&&m&&c>0&&d.transceivers[c]&&(d._disposeIceAndDtlsTransports(c),d.transceivers[c].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[c].iceTransport=d.transceivers[0].iceTransport,d.transceivers[c].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[c].rtpSender&&d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[c].rtpReceiver&&d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==o.type||g){if("answer"===o.type&&!g){R=(S=d.transceivers[c]).iceGatherer,b=S.iceTransport,E=S.dtlsTransport,x=S.rtpReceiver,w=S.sendEncodingParameters,O=S.localCapabilities,d.transceivers[c].recvEncodingParameters=P,d.transceivers[c].remoteCapabilities=M,d.transceivers[c].rtcpParameters=I,N.length&&"new"===b.state&&(!v&&!j||m&&0!==c?N.forEach(function(e){s(S.iceTransport,e)}):b.setRemoteCandidates(N)),m&&0!==c||("new"===b.state&&b.start(R,A,"controlling"),"new"===E.state&&E.start(k)),!i(S.localCapabilities,S.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&S.sendEncodingParameters[0].rtx&&delete S.sendEncodingParameters[0].rtx,d._transceive(S,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!x||"sendrecv"!==_&&"sendonly"!==_?delete S.rtpReceiver:(D=x.track,C?(f[C.stream]||(f[C.stream]=new e.MediaStream),r(D,f[C.stream]),p.push([D,x,f[C.stream]])):(f.default||(f.default=new e.MediaStream),r(D,f.default),p.push([D,x,f.default])))}}else{(S=d.transceivers[c]||d._createTransceiver(l)).mid=T,S.iceGatherer||(S.iceGatherer=d._createIceGatherer(c,m)),N.length&&"new"===S.iceTransport.state&&(!j||m&&0!==c?N.forEach(function(e){s(S.iceTransport,e)}):S.iceTransport.setRemoteCandidates(N)),O=e.RTCRtpReceiver.getCapabilities(l),t<15019&&(O.codecs=O.codecs.filter(function(e){return"rtx"!==e.name})),w=S.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var L,z=!1;if("sendrecv"===_||"sendonly"===_){if(z=!S.rtpReceiver,x=S.rtpReceiver||new e.RTCRtpReceiver(S.dtlsTransport,l),z)D=x.track,C&&"-"===C.stream||(C?(f[C.stream]||(f[C.stream]=new e.MediaStream,Object.defineProperty(f[C.stream],"id",{get:function(){return C.stream}})),Object.defineProperty(D,"id",{get:function(){return C.track}}),L=f[C.stream]):(f.default||(f.default=new e.MediaStream),L=f.default)),L&&(r(D,L),S.associatedRemoteMediaStreams.push(L)),p.push([D,x,L])}else S.rtpReceiver&&S.rtpReceiver.track&&(S.associatedRemoteMediaStreams.forEach(function(t){var r,n,o=t.getTracks().find(function(e){return e.id===S.rtpReceiver.track.id});o&&(r=o,(n=t).removeTrack(r),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:r})))}),S.associatedRemoteMediaStreams=[]);S.localCapabilities=O,S.remoteCapabilities=M,S.rtpReceiver=x,S.rtcpParameters=I,S.sendEncodingParameters=w,S.recvEncodingParameters=P,d._transceive(d.transceivers[c],!1,z)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===o.type?"active":"passive"),d._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable"),Object.keys(f).forEach(function(t){var r=f[t];if(r.getTracks().length){if(-1===d.remoteStreams.indexOf(r)){d.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout(function(){d._dispatchEvent("addstream",n)})}p.forEach(function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(d,t,n,[r])})}}),p.forEach(function(e){e[2]||u(d,e[0],e[1],[])}),e.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},d.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},d.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},d.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},d.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},d.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},d.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var i=r.transceivers.filter(function(e){return"audio"===e.kind}).length,a=r.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(i=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach(function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});i>0||a>0;)i>0&&(r._createTransceiver("audio"),i--),a>0&&(r._createTransceiver("video"),a--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach(function(o,i){var a=o.track,s=o.kind,c=o.mid||n.generateIdentifier();o.mid=c,o.iceGatherer||(o.iceGatherer=r._createIceGatherer(i,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var d=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,s)),o.localCapabilities=u,o.sendEncodingParameters=d}),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach(function(e,t){u+=o(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var d=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(d)},d.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach(function(e,n){if(!(n+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=i(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=o(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},d.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(o,i){if(!r._remoteDescription)return i(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===e.sdpMid){a=u;break}var d=r.transceivers[a];if(!d)return i(c("OperationError","Can not add ICE candidate"));if(d.rejected)return o();var f=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return o();if(f.component&&1!==f.component)return o();if((0===a||a>0&&d.iceTransport!==r.transceivers[0].iceTransport)&&!s(d.iceTransport,f))return i(c("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(f.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var l=0;l<r.transceivers.length&&(r.transceivers[l].rejected||(r.transceivers[l].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[l]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));l++);o()})},d.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)}),!r)throw c("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&n.push(e[t].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(r){var n;e[r].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(n=e[r]).type]||n.type,t.set(r,e[r])}),t})}}});var f=["createOffer","createAnswer"];return f.forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),d}},function(e,t,r){"use strict";var n=r(2);r.n(n).a},function(e,t,r){(e.exports=r(6)(!1)).push([e.i,"\n.viewport[data-v-4ebacf15] {\n  position: relative;\n}\n.viewport canvas[data-v-4ebacf15],\n.viewport video[data-v-4ebacf15] {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n",""])},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"shimGetUserMedia",function(){return _}),r.d(n,"shimGetDisplayMedia",function(){return C}),r.d(n,"shimMediaStream",function(){return S}),r.d(n,"shimOnTrack",function(){return R}),r.d(n,"shimGetSendersWithDtmf",function(){return b}),r.d(n,"shimSenderReceiverGetStats",function(){return E}),r.d(n,"shimAddTrackRemoveTrackWithNative",function(){return x}),r.d(n,"shimAddTrackRemoveTrack",function(){return w}),r.d(n,"shimPeerConnection",function(){return P}),r.d(n,"fixNegotiationNeeded",function(){return O});var o={};r.r(o),r.d(o,"shimGetUserMedia",function(){return k}),r.d(o,"shimGetDisplayMedia",function(){return M}),r.d(o,"shimPeerConnection",function(){return I}),r.d(o,"shimReplaceTrack",function(){return j});var i={};r.r(i),r.d(i,"shimGetUserMedia",function(){return N}),r.d(i,"shimGetDisplayMedia",function(){return L}),r.d(i,"shimOnTrack",function(){return z}),r.d(i,"shimPeerConnection",function(){return U}),r.d(i,"shimSenderGetStats",function(){return F}),r.d(i,"shimReceiverGetStats",function(){return G}),r.d(i,"shimRemoveStream",function(){return B}),r.d(i,"shimRTCDataChannel",function(){return W});var a={};r.r(a),r.d(a,"shimLocalStreamsAPI",function(){return V}),r.d(a,"shimRemoteStreamsAPI",function(){return H}),r.d(a,"shimCallbacksAPI",function(){return q}),r.d(a,"shimGetUserMedia",function(){return X}),r.d(a,"shimConstraints",function(){return J}),r.d(a,"shimRTCIceServerUrls",function(){return $}),r.d(a,"shimTrackEventTransceiver",function(){return K}),r.d(a,"shimCreateOfferLegacy",function(){return Y});var s={};r.r(s),r.d(s,"shimRTCIceCandidate",function(){return ee}),r.d(s,"shimMaxMessageSize",function(){return te}),r.d(s,"shimSendThrowTypeError",function(){return re}),r.d(s,"shimConnectionState",function(){return ne}),r.d(s,"removeAllowExtmapMixed",function(){return oe});let c=!0,u=!0;function d(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function f(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=i,o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return i.apply(this,arguments);const n=this._eventMap[r];return delete this._eventMap[r],i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function p(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"==typeof window){if(c)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function v(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){const{navigator:t}=e,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=d(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)r.browser="chrome",r.version=d(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=d(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=d(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return r}function g(e){return"object"!=typeof e?e:Object.keys(e).reduce(function(t,r){const n="object"==typeof e[r],o=n?g(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})},{})}const y=h;function _(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const r=m(e),n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),(e={})[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(r.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=r.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||a)){let r;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?r=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(r=["front"]),r)return t.mediaDevices.enumerateDevices().then(t=>{let a=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>r.some(t=>e.label.toLowerCase().includes(t)));return!a&&t.length&&r.includes("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),y("chrome: "+JSON.stringify(e)),o(e)})}e.video=n(e.video)}return y("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};t.getUserMedia=function(e,r,n){o(e,e=>{t.webkitGetUserMedia(e,r,e=>{n&&n(i(e))})})}.bind(t);const a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return o(e,e=>a(e).then(t=>{if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return t},e=>Promise.reject(i(e))))}}function C(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(t=>{const n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function T(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(t=>{e.forEach(r=>{r.type===n&&r.trackId===t.id&&function e(t,r,n){r&&!n.has(r.id)&&(n.set(r.id,r),Object.keys(r).forEach(o=>{o.endsWith("Id")?e(t,t.get(r[o]),n):o.endsWith("Ids")&&r[o].forEach(r=>{e(t,t.get(r),n)})}))}(e,r,o)})}),o}function S(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function R(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)f(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=(t=>{t.stream.addEventListener("addtrack",r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.track.id):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.id):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})}),this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function b(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function E(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>T(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>T(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach(r=>{r.track===e&&(t?n=!0:t=r)}),this.getReceivers().forEach(t=>(t.track===e&&(r?n=!0:r=t),t.track===e)),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function x(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function w(e){if(!e.RTCPeerConnection)return;const t=m(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return x(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>i(this,e))}});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(r=>{this._streams[r].getTracks().find(t=>e.track===t)&&(t=this._streams[r])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function P(e){if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,n){const o=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach(e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{r[t]=e.stat(t)}),t[r.id]=r}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const e=function(e){o[1](a(i(e)))};return t.apply(this,[e,arguments[0]])}return new Promise((e,r)=>{t.apply(this,[function(t){e(a(i(t)))},r])}).then(r,n)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});const r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function O(e){f(e,"negotiationneeded",e=>{if("stable"===e.target.signalingState)return e})}var D=r(3),A=r.n(D);function k(e){const t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}function M(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator.mediaDevices)))}function I(e){const t=m(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const r=new Event("enabled");r.enabled=e,this.dispatchEvent(r)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const r=A()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&v("RTCIceServer.url","RTCIceServer.urls");const n="string"==typeof t;return n&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r}),delete e.url,e.urls=n?t[0]:t,!!t.length}})}(e.iceServers,t.version),h("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function j(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function N(e){const t=m(e),r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){v("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function L(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function z(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function U(e){const t=m(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});const r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,i){return o.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(r,i)}}function F(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function G(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function B(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){v("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function W(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function V(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getTracks().forEach(r=>t.call(this,r,e))},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach(e=>{r.includes(e.track)&&this.removeTrack(e)})})}}function H(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=(e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})}))}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)})}),t.apply(e,arguments)}}}function q(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function X(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=(e=>r(J(e)))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function J(e){return e&&void 0!==e.video?Object.assign({},e,{video:g(e.video)}):e}function $(e){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];!n.hasOwnProperty("urls")&&n.hasOwnProperty("url")?(v("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function K(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Y(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>e.sender.track&&"audio"===e.sender.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find(e=>e.sender.track&&"video"===e.sender.track.kind);!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}var Q=r(1),Z=r.n(Q);function ee(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const r=new t(e),n=Z.a.parseCandidate(e.candidate),o=Object.assign(r,n);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,f(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function te(e){if(e.RTCSctpTransport||!e.RTCPeerConnection)return;const t=m(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(e){const t=Z.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=Z.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const o=Z.a.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let o;o=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const i={};Object.defineProperty(i,"maxMessageSize",{get:()=>o}),this._sctp=i}return r.apply(this,arguments)}}function re(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},f(e,"datachannel",e=>(t(e.channel,e.target),e))}function ne(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=(e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e}),this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function oe(e){if(!e.RTCPeerConnection)return;const t=m(e);if("chrome"===t.browser&&t.version>=71)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),r.apply(this,arguments)}}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const r=h,c=m(e),u={browserDetails:c,commonShim:s,extractVersion:d,disableLog:p,disableWarnings:l};switch(c.browser){case"chrome":if(!n||!P||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),u;r("adapter.js shimming chrome."),u.browserShim=n,_(e),S(e),P(e),R(e),w(e),b(e),E(e),O(e),ee(e),ne(e),te(e),re(e),oe(e);break;case"firefox":if(!i||!U||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),u;r("adapter.js shimming firefox."),u.browserShim=i,N(e),U(e),z(e),B(e),F(e),G(e),W(e),ee(e),ne(e),te(e),re(e);break;case"edge":if(!o||!I||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),u;r("adapter.js shimming edge."),u.browserShim=o,k(e),M(e),I(e),j(e),te(e),re(e);break;case"safari":if(!a||!t.shimSafari)return r("Safari shim is not included in this adapter release."),u;r("adapter.js shimming safari."),u.browserShim=a,$(e),Y(e),q(e),V(e),H(e),K(e),X(e),ee(e),te(e),re(e),oe(e);break;default:r("Unsupported browser!")}}({window:window});var ie=function(){var e=this.$createElement;this._self._c;return this._m(0)};ie._withStripped=!0;var ae=r(0),se=r.n(ae),ce={name:"QuaggaScanner",props:{onDetected:{type:Function},onProcessed:{type:Function},readerTypes:{type:Array,default:function(){return["code_128_reader"]}},readerSize:{width:{type:Number,default:640},height:{type:Number,default:480}}},data:function(){return{quaggaState:{inputStream:{type:"LiveStream",constraints:{width:{min:this.readerSize.width},height:{min:this.readerSize.height},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:this.readerTypes},locate:!0}}},mounted:function(){se.a.init(this.quaggaState,function(e){if(e)return console.log(e);se.a.start()}),se.a.onDetected(this.onDetected?this.onDetected:this._onDetected),se.a.onProcessed(this.onProcessed?this.onProcessed:this._onProcessed)},methods:{_onProcessed:function(e){var t=se.a.canvas.ctx.overlay,r=se.a.canvas.dom.overlay;e&&(e.boxes&&(t.clearRect(0,0,parseInt(r.getAttribute("width")),parseInt(r.getAttribute("height"))),e.boxes.filter(function(t){return t!==e.box}).forEach(function(e){se.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})})),e.box&&se.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&se.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))},_onDetected:function(e){console.log("detected: ",e)}}};r(4);var ue=function(e,t,r,n,o,i,a,s){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}(ce,ie,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"viewport scanner",attrs:{id:"interactive"}},[t("video"),this._v(" "),t("canvas",{staticClass:"drawingBuffer"})])}],!1,null,"4ebacf15",null);ue.options.__file="src/Scanner.vue";var de=ue.exports;t.default={install:function(e,t){e.component("v-quagga",de)}}},function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}r.r(t),r.d(t,"default",function(){return h});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,d=function(){},f=null,p="data-vue-ssr-id",l="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,r,o){u=r,f=o||{};var a=n(e,t);return v(a),function(t){for(var r=[],o=0;o<a.length;o++){var s=a[o];(c=i[s.id]).refs--,r.push(c)}t?v(a=n(e,t)):a=[];for(o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete i[c.id]}}}}function v(e){for(var t=0;t<e.length;t++){var r=e[t],n=i[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(g(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(g(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,r,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(u)return d;n.parentNode.removeChild(n)}if(l){var o=c++;n=s||(s=m()),t=C.bind(null,n,o,!1),r=C.bind(null,n,o,!0)}else n=m(),t=function(e,t){var r=t.css,n=t.media,o=t.sourceMap;n&&e.setAttribute("media",n);f.ssrId&&e.setAttribute(p,t.id);o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var y,_=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}}]);
//# sourceMappingURL=vue-quagga.js.map